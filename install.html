
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Installation &#8212; pyhdf 0.10.2 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Basic API (pyhdf.HDF)" href="modules/HDF.html" />
    <link rel="prev" title="Welcome to pyhdf’s documentation!" href="index.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="modules/HDF.html" title="Basic API (pyhdf.HDF)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to pyhdf’s documentation!"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyhdf 0.10.2 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p>pyhdf supports installation on Python 2 and Python 3. Please open an
issue here if you encounter any problems during installation:
<a class="reference external" href="https://github.com/fhs/pyhdf/issues">https://github.com/fhs/pyhdf/issues</a></p>
<p>The recommended method of installing
pyhdf is to use conda.  See the <a class="reference external" href="https://conda.io/projects/conda/en/latest/user-guide/getting-started.html">Conda user guide</a>
on how to install conda and activate your conda environment.
Once you’re in the conda environment, install <a class="reference external" href="https://anaconda.org/conda-forge/pyhdf">pyhdf from conda-forge</a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conda</span> <span class="n">install</span> <span class="o">-</span><span class="n">c</span> <span class="n">conda</span><span class="o">-</span><span class="n">forge</span> <span class="n">pyhdf</span>
</pre></div>
</div>
<p>If you don’t want to use conda, the instructions below describes how you
can compile pyhdf from source.</p>
<div class="section" id="download-the-source">
<h2>Download the source<a class="headerlink" href="#download-the-source" title="Permalink to this headline">¶</a></h2>
<p>The source code of the latest release of pyhdf can be obtained from
either of these two location:</p>
<ul class="simple">
<li><p>PyPi / the cheeseshop: <a class="reference external" href="https://pypi.python.org/pypi/pyhdf">https://pypi.python.org/pypi/pyhdf</a></p></li>
<li><p>Github: <a class="reference external" href="https://github.com/fhs/pyhdf/releases">https://github.com/fhs/pyhdf/releases</a></p></li>
</ul>
</div>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<p>The following packages are required to build and install pyhdf:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://www.python.org">Python</a>:
Python 2.6 or newer for Python 2, or Python 3.2 or newer for Python 3.</p></li>
<li><p><a class="reference external" href="http://www.numpy.org/">NumPy</a></p></li>
<li><p><a class="reference external" href="https://portal.hdfgroup.org/display/support/Download+HDF4">HDF4 libraries</a> (to use
their HDF4 binaries, you will also need szip, available from the same page)</p></li>
<li><p>Compiler suite e.g. <a class="reference external" href="http://gcc.gnu.org">GCC</a>.
On Windows, you need to use a <a class="reference external" href="https://wiki.python.org/moin/WindowsCompilers">compatible Visual C++ compiler</a>.</p></li>
<li><p><a class="reference external" href="http://www.zlib.net/">zlib</a></p></li>
<li><p><a class="reference external" href="http://www.ijg.org/">libjpeg</a></p></li>
</ul>
<p>On Debian and Debian-based Linux distributions (e.g. Ubuntu), you can install
all the requirements for Python 3 using this command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">build</span><span class="o">-</span><span class="n">essential</span> <span class="n">python3</span><span class="o">-</span><span class="n">dev</span> <span class="n">python3</span><span class="o">-</span><span class="n">numpy</span> <span class="n">libhdf4</span><span class="o">-</span><span class="n">dev</span> <span class="o">-</span><span class="n">y</span>
</pre></div>
</div>
</div>
<div class="section" id="installing-from-the-source-archive">
<h2>Installing from the source archive<a class="headerlink" href="#installing-from-the-source-archive" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p>Go to the pyhdf source directory.</p></li>
<li><p>If your HDF4 libraries or include files reside in directories
that are not searched by default on your system, the installation script
will complain about missing files.</p>
<p>Add to the search path by exporting <code class="docutils literal notranslate"><span class="pre">INCLUDE_DIRS</span></code> and
<code class="docutils literal notranslate"><span class="pre">LIBRARY_DIRS</span></code>, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">INCLUDE_DIRS</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">hdf</span><span class="o">-</span><span class="mf">4.2</span><span class="n">r3</span><span class="o">/</span><span class="n">include</span>
<span class="n">export</span> <span class="n">LIBRARY_DIRS</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">hdf</span><span class="o">-</span><span class="mf">4.2</span><span class="n">r3</span><span class="o">/</span><span class="n">lib</span>
</pre></div>
</div>
<p>or on Windows something like (replace with actual location):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">set</span> <span class="n">INCLUDE_DIRS</span><span class="o">=</span><span class="n">C</span><span class="p">:</span>\<span class="n">hdf4</span>\<span class="n">include</span>
<span class="nb">set</span> <span class="n">LIBRARY_DIRS</span><span class="o">=</span><span class="n">C</span><span class="p">:</span>\<span class="n">hdf4</span>\<span class="n">lib</span><span class="p">;</span><span class="n">C</span><span class="p">:</span>\<span class="n">hdf4</span>\<span class="n">dll</span><span class="p">;</span><span class="n">C</span><span class="p">:</span>\<span class="n">hdf4</span>\<span class="n">jpeg6</span>\<span class="n">lib</span><span class="p">;</span><span class="n">C</span><span class="p">:</span>\<span class="n">hdf4</span>\<span class="n">szip21</span>\<span class="n">lib</span><span class="p">;</span><span class="n">C</span><span class="p">:</span>\<span class="n">hdf4</span>\<span class="n">zlib123</span>\<span class="n">lib</span>
</pre></div>
</div>
<p>Note that jpeg, zlib, and (optionally) szip libraries must be found
as well. If they are not in a standard place for the compiler,
their location must be specified. On Mac OS X, <code class="docutils literal notranslate"><span class="pre">/usr/local/lib</span></code>
and <code class="docutils literal notranslate"><span class="pre">/usr/local/include</span></code> may need to be specified if the
libraries were installed there.  You may need to install the devel
versions of these packages to get the statically-linked libraries
if your HDF binary is statically linked.</p>
<p>If you are using the binary HDF4 library available from the HDF4 site, you
must also have szlib installed. Then, you will also need to set <code class="docutils literal notranslate"><span class="pre">SZIP</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">SZIP</span><span class="o">=</span><span class="mi">1</span>

<span class="p">(</span><span class="ow">or</span> <span class="n">on</span> <span class="n">Windows</span><span class="p">:</span>  <span class="nb">set</span> <span class="n">SZIP</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>If you do not wish to use szlib, you will need to compile HDF4 from source.</p>
<p>If anything goes wrong, read the detailed notes below.
Warning messages about implicit declarations of some functions
may be produced.  Those are due to SWIG, and may be safely
ignored.</p>
</li>
<li><p>Install system-wide or locally:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># sudo python setup.py install
$ python setup.py install --prefix=/usr/local (or prefix of choice)
</pre></div>
</div>
<p>Or, you might prefer to make a package (msi, rpm, egg, etc.) and install the
package:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python setup.py bdist_&lt;package&gt;
</pre></div>
</div>
</li>
</ol>
<p>To make sure everything works as expected, run the <code class="docutils literal notranslate"><span class="pre">hdfstruct.py</span></code>
script (under <code class="docutils literal notranslate"><span class="pre">examples/hdfstruct</span></code>) on one of your HDF4 files. The
script should display the file structure. This is a handy tool to have
around when you want to explore the contents of any HDF4 file.</p>
</div>
<div class="section" id="further-notes">
<h2>Further notes<a class="headerlink" href="#further-notes" title="Permalink to this headline">¶</a></h2>
<div class="section" id="external-libraries">
<h3>External libraries<a class="headerlink" href="#external-libraries" title="Permalink to this headline">¶</a></h3>
<p>HDF4.2 no longer provides its own copies of the jpeg and z libraries.
Those must be installed separately (on Linux, they should be part of
any standard distribution).</p>
<p>The sz library (versions 2.0 or higher) must be installed if the SZIP
compression method is to be used with SDsetcompress(). HDF v4.2 must
also then be compiled with SZIP support.  The binaries available from
NCSA are (at the time of this writing) compiled with SZIP support
(including encoding).  To use these binaries, you <em>must have SZIP installed</em>.
The binaries Enthought has produced and which are available in EPD and for
download from Sourceforge are compiled with SZIP support without encoding
capability.</p>
<p>Getting an SZIP enabled HDF library may require compiling the library
from source with the “–with-szlib” configuration option.  Note that
you <em>must</em> install SZIP in a separate step. For more details, see the
<a class="reference external" href="https://portal.hdfgroup.org/display/HDF5/Szip+Compression+in+HDF+Products">HDF Group site</a>.</p>
<p>In case your HDF library was compiled with SZIP support and you abide by the
szip licensing terms, set the environment variable <code class="docutils literal notranslate"><span class="pre">SZIP</span></code> to <code class="docutils literal notranslate"><span class="pre">1</span></code>.</p>
<p>If you get error messages related to the <code class="docutils literal notranslate"><span class="pre">SDgetcompress()</span></code> /
<code class="docutils literal notranslate"><span class="pre">SDsetcompress()</span></code> functions, e.g. <code class="docutils literal notranslate"><span class="pre">&quot;undefined</span> <span class="pre">symbol:</span>
<span class="pre">SDgetcompress&quot;</span></code>, set the environment variable <code class="docutils literal notranslate"><span class="pre">NO_COMPRESS</span></code> to “1”.
This will transform <code class="docutils literal notranslate"><span class="pre">SDgetcompress()</span></code> and <code class="docutils literal notranslate"><span class="pre">SDsetcompress()</span></code> into
no-ops, which will immediately raise an exception, and will not be
resolved against the HDF library symbols. This may make it possible to
work with an HDF library earlier than v4.2.</p>
</div>
<div class="section" id="swig-generated-interface-files">
<h3>Swig-generated interface files<a class="headerlink" href="#swig-generated-interface-files" title="Permalink to this headline">¶</a></h3>
<p>Interface files <code class="docutils literal notranslate"><span class="pre">hdfext.py</span></code> and <code class="docutils literal notranslate"><span class="pre">hdfext_wrap.c</span></code> (located under the
<code class="docutils literal notranslate"><span class="pre">pyhdf</span></code> subdirectory) have been generated using the SWIG tool.
Those two files should be usable as is on most environments.  It could
happen however that, for reasons related to your environment, your C
compiler does not accept the ‘.c’ file and raises a compilation
error. If so, the interface needs to be regenerated.  To do so,
install <a class="reference external" href="http://www.swig.org">SWIG</a>, then run:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cd pyhdf
$ swig -python hdfext.i
</pre></div>
</div>
<p>SWIG should silently regenerate the two interface files, after which
installation should proceed correctly.</p>
</div>
<div class="section" id="tru64-note">
<h3>TRU64 note<a class="headerlink" href="#tru64-note" title="Permalink to this headline">¶</a></h3>
<p>The HDF installation creates its libraries as archive (.a) files,
not shareable (.so) ones. On TRU64, the linker by default first looks
for shareable libraries in every directory, then in a second round
for archive files. This means that if there is a libjpeg.so somewhere
on the standard linker search paths, it will be found first, even if
the HDF libjpeg.a file exists in the directory pointed by “library_dirs”.
To solve the problem, set the environment variable <code class="docutils literal notranslate"><span class="pre">LINK_ARGS</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">LINK_ARGS</span><span class="o">=</span><span class="s2">&quot;-oldstyle_liblookup&quot;</span>
</pre></div>
</div>
<p>This will tell the linker to look for .so then for .a files in each visited
directory.</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Installation</a><ul>
<li><a class="reference internal" href="#download-the-source">Download the source</a></li>
<li><a class="reference internal" href="#requirements">Requirements</a></li>
<li><a class="reference internal" href="#installing-from-the-source-archive">Installing from the source archive</a></li>
<li><a class="reference internal" href="#further-notes">Further notes</a><ul>
<li><a class="reference internal" href="#external-libraries">External libraries</a></li>
<li><a class="reference internal" href="#swig-generated-interface-files">Swig-generated interface files</a></li>
<li><a class="reference internal" href="#tru64-note">TRU64 note</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="index.html"
                        title="previous chapter">Welcome to pyhdf’s documentation!</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="modules/HDF.html"
                        title="next chapter">Basic API (<code class="xref py py-mod docutils literal notranslate"><span class="pre">pyhdf.HDF</span></code>)</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/install.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="modules/HDF.html" title="Basic API (pyhdf.HDF)"
             >next</a> |</li>
        <li class="right" >
          <a href="index.html" title="Welcome to pyhdf’s documentation!"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyhdf 0.10.2 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, pyhdf authors.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.1.
    </div>
  </body>
</html>