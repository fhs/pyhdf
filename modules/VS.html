
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>VS (Vdata table) API (pyhdf.VS) &#8212; pyhdf 0.10.0 documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="V (Vgroup) API (pyhdf.V)" href="V.html" />
    <link rel="prev" title="SD (scientific dataset) API (pyhdf.SD)" href="SD.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="V.html" title="V (Vgroup) API (pyhdf.V)"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="SD.html" title="SD (scientific dataset) API (pyhdf.SD)"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyhdf 0.10.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="module-pyhdf.VS"></span><div class="section" id="vs-vdata-table-api-pyhdf-vs">
<h1>VS (Vdata table) API (<a class="reference internal" href="#module-pyhdf.VS" title="pyhdf.VS"><code class="xref py py-mod docutils literal notranslate"><span class="pre">pyhdf.VS</span></code></a>)<a class="headerlink" href="#vs-vdata-table-api-pyhdf-vs" title="Permalink to this headline">¶</a></h1>
<p>A module of the pyhdf package implementing the VS (Vdata table)
API of the NCSA HDF4 library.
(see: hdf.ncsa.uiuc.edu)</p>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>VS is one of the modules composing pyhdf, a python package implementing
the NCSA HDF library and letting one manage HDF files from within a python
program. Two versions of the HDF library currently exist, version 4 and
version 5. pyhdf only implements version 4 of the library. Many
different APIs are to be found inside the HDF4 specification.
Currently, pyhdf implements just a few of those: the SD, VS and V APIs.
Other APIs should be added in the future (GR, AN, etc).</p>
<p>VS allows the definition of structured data tables inside an HDF file.
Those tables are designated as “vdatas” (the name has to do with data
associated with the “vertices” of geometrical models, the storage of which
the API was originally designed for). A vdata is composed of a fixed
number of columns (also called fields), where a column can store a fixed
number of data values, all of the same type. The number of values allowed
inside a field is called the “order” of the field. A table is composed of a
varying number of rows (also called records), a record representing the
sequence of values stored in each field of the vdata.</p>
<p>A vdata is associated with a descriptive name, and likewise each field of
the vdata. A vdata can also be tagged with a “class” to further describe the
vdata purpose. Records and fields are identified by a zero-based index.
An arbitrary number of attributes of different types can be attached to
a vdata as a whole, or to its individual fields. An attribute is a
(name, value) pair, where “value” can be of many types, and be either
single or multi-valued. The number of values stored in an attribute is
called the “order” of the attribute.</p>
<p>The following example illustrates a simple vdata that could be stored
inside an HDF file. See section “Programming models” for an example
program implementing this vdata.</p>
<blockquote>
<div><blockquote>
<div>INVENTORY (experimental status)</div></blockquote>
<table border="1" class="docutils">
<colgroup>
<col width="17%" />
<col width="31%" />
<col width="8%" />
<col width="22%" />
<col width="22%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">partid</th>
<th class="head">description</th>
<th class="head">qty</th>
<th class="head">wght(lb)</th>
<th class="head">price($)</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Q1234</td>
<td>bolt</td>
<td>12</td>
<td>0.01</td>
<td>0.05</td>
</tr>
<tr class="row-odd"><td>B5432</td>
<td>brush</td>
<td>10</td>
<td>0.4</td>
<td>4.25</td>
</tr>
<tr class="row-even"><td>S7613</td>
<td>scissor</td>
<td>2</td>
<td>0.2</td>
<td>3.75</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>The vdata is composed of 5 fields. 3 records are shown (of course, a vdata
can store much more than that). “INVENTORY” would be the vdata name, and
“partid”, “description”, etc, would be the field names. The data type varies
between fields. “partid” and “description” would be of “multicharacter” type
(aka “string”), “qty” would be a integer, and “wght” and “price” would be
floats. The text in parentheses could be stored as attributes. A “status”
attribute could be defined for the table as a whole, and given the
value “experimental”. Likewise, a “unit” attribute could be associated
with fields “wght” and “price”, and given the values “lb” and “$”, resp.</p>
<p>The VS API allows one to create, locate and open a vdata inside an
HDF file, update and append records inside it, read records randomly
or sequentially, and access and update the vdata and field attributes.
Attributes can be read and written using the familiar python “dot
notation”, and records can be read and written by indexing and slicing the
vdata as if it were a python sequence.</p>
</div>
<div class="section" id="vs-module-key-features">
<h2>VS module key features<a class="headerlink" href="#vs-module-key-features" title="Permalink to this headline">¶</a></h2>
<p>VS key features are as follows.</p>
<ul class="simple">
<li>pyhdf implements almost every routine of the original VS API.
Only a few have been ignored, most of them being of a rare use:<ul>
<li>VSgetblocksize() / VSsetblocksize()</li>
<li>VSsetnumblocks()</li>
<li>VSlone</li>
</ul>
</li>
<li>It is quite straightforward to go from a C version to a python version
of a program accessing the VS API, and to learn VS usage by refering to
the C API documentation.</li>
<li>A few high-level python methods have been developped to ease
programmers task. Of greatest interest are the following:<ul>
<li>Access to attributes through the familiar “dot notation”.</li>
<li>Indexing and slicing a vdata to read and write its records,
similarly to a python sequence.</li>
<li>Easy retrieval of info on a vdata and its fields.</li>
<li>Easy creation of vdatas.</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="accessing-the-vs-module">
<h2>Accessing the VS module<a class="headerlink" href="#accessing-the-vs-module" title="Permalink to this headline">¶</a></h2>
<p>To access the VS module a python program can say one of:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">pyhdf.VS</span>        <span class="c1"># must prefix names with &quot;pyhdf.VS.&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyhdf</span> <span class="k">import</span> <span class="n">VS</span>   <span class="c1"># must prefix names with &quot;VS.&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyhdf.VS</span> <span class="k">import</span> <span class="o">*</span> <span class="c1"># names need no prefix</span>
</pre></div>
</div>
<p>This document assumes the last import style is used.</p>
<p>VS is not self-contained, and needs functionnality provided by another
pyhdf module, namely the HDF module. This module must thus be imported
also:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">.HDF</span> <span class="k">import</span> <span class="o">*</span>
</pre></div>
</div>
</div>
<div class="section" id="package-components">
<h2>Package components<a class="headerlink" href="#package-components" title="Permalink to this headline">¶</a></h2>
<p>pyhdf is a proper Python package, eg a collection of modules stored under
a directory whose name is that of the package and which stores an
__init__.py file. Following the normal installation procedure, this
directory will be &lt;python-lib&gt;/site-packages/pyhdf’, where &lt;python-lib&gt;
stands for the python installation directory.</p>
<p>For each HDF API exists a corresponding set of modules.</p>
<p>The following modules are related to the VS API.</p>
<blockquote>
<div><dl class="docutils">
<dt>_hdfext</dt>
<dd>C extension module responsible for wrapping the HDF
C library for all python modules</dd>
<dt>hdfext</dt>
<dd>python module implementing some utility functions
complementing the _hdfext extension module</dd>
<dt>error</dt>
<dd>defines the HDF4Error exception</dd>
<dt>HDF</dt>
<dd>python module providing support to the VS module</dd>
<dt>VS</dt>
<dd>python module wrapping the VS API routines inside
an OOP framework</dd>
</dl>
</div></blockquote>
<p>_hdfext and hdfext were generated using the SWIG preprocessor.
SWIG is however <em>not</em> needed to run the package. Those two modules
are meant to do their work in the background, and should never be called
directly. Only HDF and VS should be imported by the user program.</p>
</div>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>The following software must be installed in order for VS to
work.</p>
<blockquote>
<div><dl class="docutils">
<dt>HDF (v4) library</dt>
<dd><p class="first">pyhdf does <em>not</em> include the HDF4 library, which must
be installed separately.</p>
<p class="last">HDF is available at:
“<a class="reference external" href="http://hdf.ncsa.uiuc.edu/obtain.html">http://hdf.ncsa.uiuc.edu/obtain.html</a>”.</p>
</dd>
</dl>
</div></blockquote>
<p>Numeric is also needed by the SD module. See the SD module documentation.</p>
</div>
<div class="section" id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<p>pyhdf has been written so as to stick as closely as possible to
the naming conventions and calling sequences documented inside the
“HDF User s Guide” manual. Even if pyhdf gives an OOP twist
to the C API, the manual can be easily used as a documentary source
for pyhdf, once the class to which a function belongs has been
identified, and of course once requirements imposed by the Python
langage have been taken into account. Consequently, this documentation
will not attempt to provide an exhaustive coverage of the HDF VS
API. For this, the user is referred to the above manual.
The documentation of each pyhdf method will indicate the name
of the equivalent routine as it is found inside the C API.</p>
<p>This document (in both its text and html versions) has been completely
produced using “pydoc”, the Python documentation generator (which
made its debut in the 2.1 Python release). pydoc can also be used
as an on-line help tool. For example, to know everything about
the VS.VD class, say:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pydoc</span> <span class="k">import</span> <span class="n">help</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyhdf.VS</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">help</span><span class="p">(</span><span class="n">VD</span><span class="p">)</span>
</pre></div>
</div>
<p>To be more specific and get help only for the read() method of the
VD class:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">help</span><span class="p">(</span><span class="n">VD</span><span class="o">.</span><span class="n">read</span><span class="p">)</span>
</pre></div>
</div>
<p>pydoc can also be called from the command line, as in:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span> <span class="n">pydoc</span> <span class="n">pyhdf</span><span class="o">.</span><span class="n">VS</span><span class="o">.</span><span class="n">VD</span>         <span class="c1"># doc for the whole VD class</span>
<span class="o">%</span> <span class="n">pydoc</span> <span class="n">pyhdf</span><span class="o">.</span><span class="n">VS</span><span class="o">.</span><span class="n">VD</span><span class="o">.</span><span class="n">read</span>    <span class="c1"># doc for the VD.read method</span>
</pre></div>
</div>
</div>
<div class="section" id="summary-of-differences-between-the-pyhdf-and-c-vs-api">
<h2>Summary of differences between the pyhdf and C VS API<a class="headerlink" href="#summary-of-differences-between-the-pyhdf-and-c-vs-api" title="Permalink to this headline">¶</a></h2>
<p>Most of the differences between the pyhdf and C VS API can
be summarized as follows.</p>
<ul class="simple">
<li>In the C API, every function returns an integer status code, and values
computed by the function are returned through one or more pointers
passed as arguments.</li>
<li>In pyhdf, error statuses are returned through the Python exception
mechanism, and values are returned as the method result. When the
C API specifies that multiple values are returned, pyhdf returns a
sequence of values, which are ordered similarly to the pointers in the
C function argument list.</li>
</ul>
</div>
<div class="section" id="error-handling">
<h2>Error handling<a class="headerlink" href="#error-handling" title="Permalink to this headline">¶</a></h2>
<p>All errors reported by the C VS API with a SUCCESS/FAIL error code
are reported by pyhdf using the Python exception mechanism.
When the C library reports a FAIL status, pyhdf raises an HDF4Error
exception (a subclass of Exception) with a descriptive message.
Unfortunately, the C library is rarely informative about the cause of
the error. pyhdf does its best to try to document the error, but most
of the time cannot do more than saying “execution error”.</p>
</div>
<div class="section" id="vs-needs-support-from-the-hdf-module">
<h2>VS needs support from the HDF module<a class="headerlink" href="#vs-needs-support-from-the-hdf-module" title="Permalink to this headline">¶</a></h2>
<p>The VS module is not self-contained (countrary to the SD module).
It requires help from the HDF module, namely:</p>
<ul class="simple">
<li>the HDF.HDF class to open and close the HDF file, and initialize the
VS interface</li>
<li>the HDF.HC class to provide different sorts of constants (opening modes,
data types, etc).</li>
</ul>
<p>A program wanting to access HDF vdatas will almost always need to execute
the following minimal set of calls:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyhdf.HDF</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyhdf.VS</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdfFile</span> <span class="o">=</span> <span class="n">HDF</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">HC</span><span class="o">.</span><span class="n">xxx</span><span class="p">)</span><span class="c1"># open HDF file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vs</span> <span class="o">=</span> <span class="n">hdfFile</span><span class="o">.</span><span class="n">vstart</span><span class="p">()</span>      <span class="c1"># initialize VS interface on HDF file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="o">...</span>                        <span class="c1"># manipulate vdatas through &quot;vs&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vs</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>                   <span class="c1"># terminate VS interface</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">hdfFile</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>            <span class="c1"># close HDF file</span>
</pre></div>
</div>
</div>
<div class="section" id="classes-summary">
<h2>Classes summary<a class="headerlink" href="#classes-summary" title="Permalink to this headline">¶</a></h2>
<p>pyhdf wraps the VS API using different python classes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">VS</span>      <span class="n">HDF</span> <span class="n">VS</span> <span class="n">interface</span>
<span class="n">VD</span>      <span class="n">vdata</span>
<span class="n">VDField</span> <span class="n">vdata</span> <span class="n">field</span>
<span class="n">VDattr</span>  <span class="n">attribute</span> <span class="p">(</span><span class="n">either</span> <span class="n">at</span> <span class="n">the</span> <span class="n">vdata</span> <span class="ow">or</span> <span class="n">field</span> <span class="n">level</span><span class="p">)</span>
</pre></div>
</div>
<p>In more detail:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">VS</span>     <span class="n">The</span> <span class="n">VS</span> <span class="k">class</span> <span class="nc">implements</span> <span class="n">the</span> <span class="n">VS</span> <span class="p">(</span><span class="n">Vdata</span><span class="p">)</span> <span class="n">interface</span> <span class="n">applied</span> <span class="n">to</span> <span class="n">an</span>
       <span class="n">HDF</span> <span class="n">file</span><span class="o">.</span> <span class="n">This</span> <span class="k">class</span> <span class="nc">encapsulates</span> <span class="n">the</span> <span class="n">hdf</span> <span class="n">instance</span><span class="p">,</span> <span class="ow">and</span> <span class="nb">all</span>
       <span class="n">the</span> <span class="n">top</span><span class="o">-</span><span class="n">level</span> <span class="n">functions</span> <span class="n">of</span> <span class="n">the</span> <span class="n">VS</span> <span class="n">API</span><span class="o">.</span>

       <span class="n">To</span> <span class="n">create</span> <span class="n">a</span> <span class="n">VS</span> <span class="n">instance</span><span class="p">,</span> <span class="n">call</span> <span class="n">the</span> <span class="n">vstart</span><span class="p">()</span> <span class="n">method</span> <span class="n">of</span> <span class="n">an</span>
       <span class="n">HDF</span> <span class="n">instance</span><span class="o">.</span>

       <span class="n">methods</span><span class="p">:</span>
         <span class="n">constructors</span><span class="p">:</span>
           <span class="n">attach</span><span class="p">()</span>       <span class="nb">open</span> <span class="n">an</span> <span class="n">existing</span> <span class="n">vdata</span> <span class="n">given</span> <span class="n">its</span> <span class="n">name</span> <span class="ow">or</span>
                          <span class="n">reference</span> <span class="n">number</span><span class="p">,</span> <span class="ow">or</span> <span class="n">create</span> <span class="n">a</span> <span class="n">new</span> <span class="n">one</span><span class="p">,</span>
                          <span class="n">returning</span> <span class="n">a</span> <span class="n">VD</span> <span class="n">instance</span>
           <span class="n">create</span><span class="p">()</span>       <span class="n">create</span> <span class="n">a</span> <span class="n">new</span> <span class="n">vdata</span> <span class="ow">and</span> <span class="n">define</span> <span class="n">its</span> <span class="n">structure</span><span class="p">,</span>
                          <span class="n">returning</span> <span class="n">a</span> <span class="n">VD</span> <span class="n">instance</span>

         <span class="n">creating</span> <span class="ow">and</span> <span class="n">initializing</span> <span class="n">a</span> <span class="n">simple</span> <span class="n">vdata</span>
           <span class="n">storedata</span><span class="p">()</span>    <span class="n">create</span> <span class="n">a</span> <span class="n">single</span><span class="o">-</span><span class="n">field</span> <span class="n">vdata</span> <span class="ow">and</span> <span class="n">initialize</span>
                          <span class="n">its</span> <span class="n">values</span>

         <span class="n">closing</span> <span class="n">the</span> <span class="n">interface</span>
           <span class="n">end</span><span class="p">()</span>          <span class="n">close</span> <span class="n">the</span> <span class="n">VS</span> <span class="n">interface</span> <span class="n">on</span> <span class="n">the</span> <span class="n">HDF</span> <span class="n">file</span>

         <span class="n">searching</span>
           <span class="n">find</span><span class="p">()</span>         <span class="n">get</span> <span class="n">a</span> <span class="n">vdata</span> <span class="n">reference</span> <span class="n">number</span> <span class="n">given</span> <span class="n">its</span> <span class="n">name</span>
           <span class="nb">next</span><span class="p">()</span>         <span class="n">get</span> <span class="n">the</span> <span class="n">reference</span> <span class="n">number</span> <span class="n">of</span> <span class="n">the</span> <span class="n">vdata</span> <span class="n">following</span>
                          <span class="n">a</span> <span class="n">given</span> <span class="n">one</span>

         <span class="n">inquiry</span>
           <span class="n">vdatainfo</span><span class="p">()</span>    <span class="k">return</span> <span class="n">info</span> <span class="n">about</span> <span class="nb">all</span> <span class="n">the</span> <span class="n">vdatas</span> <span class="ow">in</span> <span class="n">the</span>
                          <span class="n">HDF</span> <span class="n">file</span>

<span class="n">VD</span>     <span class="n">The</span> <span class="n">VD</span> <span class="k">class</span> <span class="nc">describes</span> <span class="n">a</span> <span class="n">vdata</span><span class="o">.</span> <span class="n">It</span> <span class="n">encapsulates</span>
       <span class="n">the</span> <span class="n">VS</span> <span class="n">instance</span> <span class="n">to</span> <span class="n">which</span> <span class="n">the</span> <span class="n">vdata</span> <span class="n">belongs</span><span class="p">,</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">vdata</span>
       <span class="n">identifier</span><span class="o">.</span>

       <span class="n">To</span> <span class="n">instantiate</span> <span class="n">a</span> <span class="n">VD</span> <span class="n">class</span><span class="p">,</span> <span class="n">call</span> <span class="n">the</span> <span class="n">attach</span><span class="p">()</span> <span class="ow">or</span> <span class="n">create</span><span class="p">()</span>
       <span class="n">method</span> <span class="n">of</span> <span class="n">a</span> <span class="n">VS</span> <span class="k">class</span> <span class="nc">instance</span><span class="o">.</span>

       <span class="n">methods</span><span class="p">:</span>
         <span class="n">constructors</span>
           <span class="n">attr</span><span class="p">()</span>         <span class="n">create</span> <span class="n">a</span> <span class="n">VDAttr</span> <span class="n">instance</span> <span class="n">representing</span> <span class="n">a</span>
                          <span class="n">vdata</span> <span class="n">attribute</span><span class="p">;</span> <span class="s2">&quot;dot notation&quot;</span> <span class="n">can</span> <span class="n">also</span> <span class="n">be</span>
                          <span class="n">used</span> <span class="n">to</span> <span class="n">access</span> <span class="n">a</span> <span class="n">vdata</span> <span class="n">attribute</span>
           <span class="n">field</span><span class="p">()</span>        <span class="k">return</span> <span class="n">a</span> <span class="n">VDField</span> <span class="n">instance</span> <span class="n">representing</span> <span class="n">a</span> <span class="n">given</span>
                          <span class="n">field</span> <span class="n">of</span> <span class="n">the</span> <span class="n">vdata</span>

         <span class="n">closing</span> <span class="n">vdata</span>
           <span class="n">detach</span><span class="p">()</span>       <span class="n">end</span> <span class="n">access</span> <span class="n">to</span> <span class="n">the</span> <span class="n">vdata</span>

         <span class="n">defining</span> <span class="n">fields</span>
           <span class="n">fdefine</span><span class="p">()</span>      <span class="n">define</span> <span class="n">the</span> <span class="n">name</span><span class="p">,</span> <span class="nb">type</span> <span class="ow">and</span> <span class="n">order</span> <span class="n">of</span> <span class="n">a</span> <span class="n">new</span> <span class="n">field</span>
           <span class="n">setfields</span><span class="p">()</span>    <span class="n">define</span> <span class="n">the</span> <span class="n">field</span> <span class="n">names</span> <span class="ow">and</span> <span class="n">field</span> <span class="n">order</span> <span class="k">for</span>
                          <span class="n">the</span> <span class="n">read</span><span class="p">()</span> <span class="ow">and</span> <span class="n">write</span><span class="p">()</span> <span class="n">methods</span><span class="p">;</span> <span class="n">also</span> <span class="n">used</span> <span class="n">to</span>
                          <span class="n">initialize</span> <span class="n">the</span> <span class="n">structure</span> <span class="n">of</span> <span class="n">a</span> <span class="n">vdata</span> <span class="n">previously</span>
                          <span class="n">created</span> <span class="k">with</span> <span class="n">the</span> <span class="n">VS</span><span class="o">.</span><span class="n">attach</span><span class="p">()</span> <span class="n">method</span>

         <span class="n">reading</span> <span class="ow">and</span> <span class="n">writing</span>
                          <span class="n">note</span><span class="p">:</span> <span class="n">a</span> <span class="n">vdata</span> <span class="n">can</span> <span class="n">be</span> <span class="n">indexed</span> <span class="ow">and</span> <span class="n">sliced</span> <span class="n">like</span> <span class="n">a</span>
                          <span class="n">python</span> <span class="n">sequence</span>

           <span class="n">read</span><span class="p">()</span>         <span class="k">return</span> <span class="n">the</span> <span class="n">values</span> <span class="n">of</span> <span class="n">a</span> <span class="n">number</span> <span class="n">of</span> <span class="n">records</span>
                          <span class="n">starting</span> <span class="n">at</span> <span class="n">the</span> <span class="n">current</span> <span class="n">record</span> <span class="n">position</span>
           <span class="n">seek</span><span class="p">()</span>         <span class="n">reset</span> <span class="n">the</span> <span class="n">current</span> <span class="n">record</span> <span class="n">position</span>
           <span class="n">seekend</span><span class="p">()</span>      <span class="n">seek</span> <span class="n">past</span> <span class="n">the</span> <span class="n">last</span> <span class="n">record</span>
           <span class="n">tell</span><span class="p">()</span>         <span class="k">return</span> <span class="n">the</span> <span class="n">current</span> <span class="n">record</span> <span class="n">position</span>
           <span class="n">write</span><span class="p">()</span>        <span class="n">write</span> <span class="n">a</span> <span class="n">number</span> <span class="n">of</span> <span class="n">records</span> <span class="n">starting</span> <span class="n">at</span> <span class="n">the</span>
                          <span class="n">current</span> <span class="n">record</span> <span class="n">position</span>

         <span class="n">inquiry</span>
           <span class="n">attrinfo</span><span class="p">()</span>     <span class="k">return</span> <span class="n">info</span> <span class="n">about</span> <span class="nb">all</span> <span class="n">the</span> <span class="n">vdata</span> <span class="n">attributes</span>
           <span class="n">fexist</span><span class="p">()</span>       <span class="n">check</span> <span class="k">if</span> <span class="n">a</span> <span class="n">vdata</span> <span class="n">contains</span> <span class="n">a</span> <span class="n">given</span> <span class="nb">set</span> <span class="n">of</span> <span class="n">fields</span>
           <span class="n">fieldinfo</span><span class="p">()</span>    <span class="k">return</span> <span class="n">info</span> <span class="n">about</span> <span class="nb">all</span> <span class="n">the</span> <span class="n">vdata</span> <span class="n">fields</span>
           <span class="n">findattr</span><span class="p">()</span>     <span class="n">locate</span> <span class="n">an</span> <span class="n">attribute</span><span class="p">,</span> <span class="n">returning</span> <span class="n">a</span> <span class="n">VDAttr</span> <span class="n">instance</span>
                          <span class="k">if</span> <span class="n">found</span>
           <span class="n">inquire</span><span class="p">()</span>      <span class="k">return</span> <span class="n">info</span> <span class="n">about</span> <span class="n">the</span> <span class="n">vdata</span>
           <span class="n">sizeof</span><span class="p">()</span>       <span class="k">return</span> <span class="n">the</span> <span class="n">size</span> <span class="ow">in</span> <span class="nb">bytes</span> <span class="n">of</span> <span class="n">one</span> <span class="ow">or</span> <span class="n">more</span> <span class="n">fields</span>

<span class="n">VDField</span>  <span class="n">The</span> <span class="n">VDField</span> <span class="k">class</span> <span class="nc">represents</span> <span class="n">a</span> <span class="n">vdata</span> <span class="n">field</span><span class="o">.</span> <span class="n">It</span> <span class="n">encapsulates</span>
         <span class="n">the</span> <span class="n">VD</span> <span class="n">instance</span> <span class="n">to</span> <span class="n">which</span> <span class="n">the</span> <span class="n">field</span> <span class="n">belongs</span><span class="p">,</span> <span class="ow">and</span> <span class="n">the</span> <span class="n">field</span>
         <span class="n">index</span> <span class="n">number</span><span class="o">.</span>

         <span class="n">To</span> <span class="n">instantiate</span> <span class="n">a</span> <span class="n">VDField</span><span class="p">,</span> <span class="n">call</span> <span class="n">the</span> <span class="n">field</span><span class="p">()</span> <span class="n">method</span> <span class="n">of</span> <span class="n">a</span> <span class="n">VD</span> <span class="k">class</span>
         <span class="nc">instance</span><span class="o">.</span>

         <span class="n">methods</span><span class="p">:</span>
           <span class="n">constructors</span><span class="p">:</span>
             <span class="n">attr</span><span class="p">()</span>       <span class="k">return</span> <span class="n">a</span> <span class="n">VDAttr</span> <span class="n">instance</span> <span class="n">representing</span> <span class="n">an</span>
                          <span class="n">attribute</span> <span class="n">of</span> <span class="n">the</span> <span class="n">field</span><span class="p">;</span> <span class="s2">&quot;dot notation&quot;</span>
                          <span class="n">can</span> <span class="n">also</span> <span class="n">be</span> <span class="n">used</span> <span class="n">to</span> <span class="n">get</span><span class="o">/</span><span class="nb">set</span> <span class="n">an</span> <span class="n">attribute</span><span class="o">.</span>

           <span class="n">inquiry</span>
             <span class="n">attrinfo</span><span class="p">()</span>   <span class="k">return</span> <span class="n">info</span> <span class="n">about</span> <span class="nb">all</span> <span class="n">the</span> <span class="n">field</span> <span class="n">attributes</span>
             <span class="n">find</span><span class="p">()</span>       <span class="n">locate</span> <span class="n">an</span> <span class="n">attribute</span><span class="p">,</span> <span class="n">returning</span> <span class="n">a</span> <span class="n">VDAttr</span>
                          <span class="n">instance</span> <span class="k">if</span> <span class="n">found</span>

<span class="n">VDAttr</span>   <span class="n">The</span> <span class="n">VDAttr</span> <span class="k">class</span> <span class="nc">encapsulates</span> <span class="n">methods</span> <span class="n">used</span> <span class="n">to</span> <span class="nb">set</span> <span class="ow">and</span> <span class="n">query</span>
         <span class="n">attributes</span> <span class="n">defined</span> <span class="n">at</span> <span class="n">the</span> <span class="n">level</span> <span class="n">either</span> <span class="n">of</span> <span class="n">the</span> <span class="n">vdata</span> <span class="ow">or</span> <span class="n">the</span>
         <span class="n">vdata</span> <span class="n">field</span><span class="o">.</span>

         <span class="n">To</span> <span class="n">create</span> <span class="n">an</span> <span class="n">instance</span> <span class="n">of</span> <span class="n">this</span> <span class="n">class</span><span class="p">,</span> <span class="n">call</span> <span class="n">the</span> <span class="n">attr</span><span class="p">()</span> <span class="ow">or</span>
         <span class="n">findattr</span><span class="p">()</span> <span class="n">methods</span> <span class="n">of</span> <span class="n">a</span> <span class="n">VD</span> <span class="n">instance</span> <span class="p">(</span><span class="k">for</span> <span class="n">vdata</span> <span class="n">attributes</span><span class="p">),</span>
         <span class="ow">or</span> <span class="n">call</span> <span class="n">the</span> <span class="n">attr</span><span class="p">()</span> <span class="ow">or</span> <span class="n">find</span><span class="p">()</span> <span class="n">methods</span> <span class="n">of</span> <span class="n">a</span> <span class="n">VDField</span> <span class="n">instance</span>
         <span class="p">(</span><span class="k">for</span> <span class="n">field</span> <span class="n">attributes</span><span class="p">)</span><span class="o">.</span>

         <span class="n">methods</span><span class="p">:</span>
           <span class="n">get</span> <span class="o">/</span> <span class="nb">set</span>
             <span class="n">get</span><span class="p">()</span>        <span class="n">get</span> <span class="n">the</span> <span class="n">attribute</span> <span class="n">value</span>
             <span class="nb">set</span><span class="p">()</span>        <span class="nb">set</span> <span class="n">the</span> <span class="n">attribute</span> <span class="n">value</span>

           <span class="n">info</span>
             <span class="n">info</span><span class="p">()</span>       <span class="n">retrieve</span> <span class="n">info</span> <span class="n">about</span> <span class="n">the</span> <span class="n">attribute</span>
</pre></div>
</div>
</div>
<div class="section" id="data-types">
<h2>Data types<a class="headerlink" href="#data-types" title="Permalink to this headline">¶</a></h2>
<p>Data types come into play when first defining vdata fields and attributes,
and later when querying the definition of those fields and attributes.
Data types are specified using the symbolic constants defined inside the
HC class of the HDF module.</p>
<ul class="simple">
<li>CHAR and CHAR8 (equivalent): an 8-bit character.</li>
<li>UCHAR, UCHAR8 and UINT8 (equivalent): unsigned 8-bit values (0 to 255)</li>
<li>INT8:    signed 8-bit values (-128 to 127)</li>
<li>INT16:   signed 16-bit values</li>
<li>UINT16:  unsigned 16 bit values</li>
<li>INT32:   signed 32 bit values</li>
<li>UINT32:  unsigned 32 bit values</li>
<li>FLOAT32: 32 bit floating point values (C floats)</li>
<li>FLOAT64: 64 bit floating point values (C doubles)</li>
</ul>
<p>There is no explicit “string” type. To simulate a string, set the field or
attribute type to CHAR, and set the field or attribute “order” to
a value of ‘n’ &gt; 1. This creates and “array of characters”, close
to a string (except that strings will always be of length ‘n’, right-padded
with spaces if necessary).</p>
</div>
<div class="section" id="attribute-access-low-and-high-level">
<h2>Attribute access: low and high level<a class="headerlink" href="#attribute-access-low-and-high-level" title="Permalink to this headline">¶</a></h2>
<p>The VS API allow setting attributes on vdatas and vdata fields. Attributes
can be of many types (int, float, char) of different bit lengths (8, 16, 32,
64 bits), and can be single or multi-valued. Values of a multi-valued
attribute must all be of the same type.</p>
<p>Attributes can be set and queried in two different ways. First, given a
VD instance (describing a vdata object) or a VDField instance (describing a
vdata field), the attr() method of that instance is called to create a
VDAttr instance representing the wanted attribute (possibly non existent).
The set() method of this VDAttr instance is then called to define the
attribute value, creating it if it does not already exist. The get() method
returns the current attribute value. Here is an example.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyhdf.HDF</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyhdf.VS</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">HDF</span><span class="p">(</span><span class="s1">&#39;test.hdf&#39;</span><span class="p">,</span> <span class="n">HC</span><span class="o">.</span><span class="n">WRITE</span><span class="p">)</span> <span class="c1"># Open file &#39;test.hdf&#39; in write mode</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vs</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">vstart</span><span class="p">()</span>            <span class="c1"># init vdata interface</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vd</span> <span class="o">=</span> <span class="n">vs</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="s1">&#39;vtest&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1"># attach vdata &#39;vtest&#39; in write mode</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">attr</span> <span class="o">=</span> <span class="n">vd</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="s1">&#39;version&#39;</span><span class="p">)</span>  <span class="c1"># prepare to define the &#39;version&#39; attribute</span>
<span class="go">                               # on the vdata</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">attr</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">HC</span><span class="o">.</span><span class="n">CHAR8</span><span class="p">,</span><span class="s1">&#39;1.0&#39;</span><span class="p">)</span>   <span class="c1"># set attribute &#39;version&#39; to string &#39;1.0&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">attr</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>           <span class="c1"># get and print attribute value</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fld</span>  <span class="o">=</span> <span class="n">vd</span><span class="o">.</span><span class="n">field</span><span class="p">(</span><span class="s1">&#39;fld1&#39;</span><span class="p">)</span>    <span class="c1"># obtain a field instance for field &#39;fld1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">attr</span> <span class="o">=</span> <span class="n">fld</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="s1">&#39;range&#39;</span><span class="p">)</span>   <span class="c1"># prepare to define attribute &#39;range&#39; on</span>
<span class="go">                               # this field</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">attr</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">HC</span><span class="o">.</span><span class="n">INT32</span><span class="p">,(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span> <span class="c1"># set attribute &#39;range&#39; to a pair of ints</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">attr</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>             <span class="c1"># get and print attribute value</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">vd</span><span class="o">.</span><span class="n">detach</span><span class="p">()</span>                <span class="c1"># &quot;close&quot; the vdata</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vs</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>                   <span class="c1"># terminate the vdata interface</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>                  <span class="c1"># close the HDF file</span>
</pre></div>
</div>
<p>The second way consists of setting/querying an attribute as if it were a
normal python class attribute, using the usual dot notation. Above example
then becomes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyhdf.HDF</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyhdf.VS</span> <span class="k">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span> <span class="o">=</span> <span class="n">HDF</span><span class="p">(</span><span class="s1">&#39;test.hdf&#39;</span><span class="p">,</span> <span class="n">HC</span><span class="o">.</span><span class="n">WRITE</span><span class="p">)</span> <span class="c1"># Open file &#39;test.hdf&#39; in write mode</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vs</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">vstart</span><span class="p">()</span>            <span class="c1"># init vdata interface</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vd</span> <span class="o">=</span> <span class="n">vs</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="s1">&#39;vtest&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="c1"># attach vdata &#39;vtest&#39; in write mode</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vd</span><span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="s1">&#39;1.0&#39;</span>         <span class="c1"># create vdata attribute &#39;version&#39;,</span>
<span class="go">                               # setting it to string &#39;1.0&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">vd</span><span class="o">.</span><span class="n">version</span><span class="p">)</span>           <span class="c1"># print attribute value</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fld</span>  <span class="o">=</span> <span class="n">vd</span><span class="o">.</span><span class="n">field</span><span class="p">(</span><span class="s1">&#39;fld1&#39;</span><span class="p">)</span>    <span class="c1"># obtain a field instance for field &#39;fld1&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fld</span><span class="o">.</span><span class="n">range</span> <span class="o">=</span> <span class="p">(</span><span class="o">-</span><span class="mi">10</span><span class="p">,</span> <span class="mi">15</span><span class="p">)</span>      <span class="c1"># create field attribute &#39;range&#39;, setting</span>
<span class="go">                               # it to the pair of ints (-10, 15)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">fld</span><span class="o">.</span><span class="n">range</span><span class="p">)</span>            <span class="c1"># print attribute value</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vd</span><span class="o">.</span><span class="n">detach</span><span class="p">()</span>                <span class="c1"># &quot;close&quot; the vdata</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vs</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>                   <span class="c1"># terminate the vdata interface</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>                  <span class="c1"># close the HDF file</span>
</pre></div>
</div>
<p>Note how the dot notation greatly simplifies and clarifies the code.
Some latitude is however lost by manipulating attributes in that way,
because the pyhdf package, not the programmer, is then responsible of
setting the attribute type. The attribute type is chosen to be one of:</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="77%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>HC.CHAR8</td>
<td>if the attribute value is a string</td>
</tr>
<tr class="row-even"><td>HC.INT32</td>
<td>if all attribute values are integers</td>
</tr>
<tr class="row-odd"><td>HC.FLOAT64</td>
<td>otherwise</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>The first way of handling attribute values must be used if one wants to
define an attribute of any other type (for ex. 8 or 16 bit integers,
signed or unsigned). Also, only a VDAttr instance gives access to attribute
info, through its info() method.</p>
<p>However, accessing HDF attributes as if they were python attributes raises
an important issue. There must exist a way to assign generic attributes
to the python objects without requiring those attributes to be converted
to HDF attributes. pyhdf uses the following rule: an attribute whose name
starts with an underscore (‘_’) is either a “predefined” attribute
(see below) or a standard python attribute. Otherwise, the attribute
is handled as an HDF attribute. Also, HDF attributes are not stored inside
the object dictionnary: the python dir() function will not list them.</p>
<p>Attribute values can be updated, but it is illegal to try to change the
value type, or the attribute order (number of values). This is important
for attributes holding string values. An attribute initialized with an
‘n’ character string is simply a character attribute of order ‘n’ (eg a
character array of length ‘n’). If ‘vd’ is a vdata and we initialize its
‘a1’ attribute as ‘vd.a1 = “abcdef”’, then a subsequent update attempt
like ‘vd.a1 = “12”’ will fail, because we then try to change the order
of the attribute (from 6 to 2). It is mandatory to keep the length of string
attributes constant. Examples below show simple ways how this can be done.</p>
</div>
<div class="section" id="predefined-attributes">
<h2>Predefined attributes<a class="headerlink" href="#predefined-attributes" title="Permalink to this headline">¶</a></h2>
<p>The VD and VDField classes support predefined attributes to get (and
occasionnaly set) attribute values easily, without having to call a
class method. The names of predefined attributes all start with an
underscore (‘_’).</p>
<p>In the following tables, the RW column holds an X if the attribute
is read/write. See the HDF User s guide for details about more
“exotic” topics like “class”, “faked vdata” and “tag”.</p>
<blockquote>
<div><p>VD predefined attributes</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="3%" />
<col width="38%" />
<col width="43%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">name</th>
<th class="head">RW</th>
<th class="head">description</th>
<th class="head">C library routine</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>_class</td>
<td>X</td>
<td>class name</td>
<td>VSgetclass/VSsetclass</td>
</tr>
<tr class="row-odd"><td>_fields</td>
<td>&#160;</td>
<td>list of field names</td>
<td>VSgetfields</td>
</tr>
<tr class="row-even"><td>_interlace</td>
<td>X</td>
<td>interlace mode</td>
<td>VSgetinterlace/VSsetinterlace</td>
</tr>
<tr class="row-odd"><td>_isattr</td>
<td>&#160;</td>
<td>true if vdata is “faked”
by HDF to hold attributes</td>
<td>VSisattr</td>
</tr>
<tr class="row-even"><td>_name</td>
<td>X</td>
<td>name of the vdata</td>
<td>VSgetname/VSsetname</td>
</tr>
<tr class="row-odd"><td>_nattrs</td>
<td>&#160;</td>
<td>number of attributes</td>
<td>VSfnattrs</td>
</tr>
<tr class="row-even"><td>_nfields</td>
<td>&#160;</td>
<td>number of fields</td>
<td>VFnfields</td>
</tr>
<tr class="row-odd"><td>_nrecs</td>
<td>&#160;</td>
<td>number of records</td>
<td>VSelts</td>
</tr>
<tr class="row-even"><td>_recsize</td>
<td>&#160;</td>
<td>record size (bytes)</td>
<td>VSQueryvsize</td>
</tr>
<tr class="row-odd"><td>_refnum</td>
<td>&#160;</td>
<td>reference number</td>
<td>VSQueryref</td>
</tr>
<tr class="row-even"><td>_tag</td>
<td>&#160;</td>
<td>vdata tag</td>
<td>VSQuerytag</td>
</tr>
<tr class="row-odd"><td>_tnattrs</td>
<td>&#160;</td>
<td>total number of vdata and
field attributes</td>
<td>VSnattrs</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>VDField predefined attributes</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="16%" />
<col width="3%" />
<col width="38%" />
<col width="43%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">name</th>
<th class="head">RW</th>
<th class="head">description</th>
<th class="head">C library routine</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>_esize</td>
<td>&#160;</td>
<td>external size (bytes)</td>
<td>VFfieldesize</td>
</tr>
<tr class="row-odd"><td>_index</td>
<td>&#160;</td>
<td>index number</td>
<td>VSfindex</td>
</tr>
<tr class="row-even"><td>_isize</td>
<td>&#160;</td>
<td>internal size (bytes)</td>
<td>VFfieldisize</td>
</tr>
<tr class="row-odd"><td>_name</td>
<td>&#160;</td>
<td>name</td>
<td>VFfieldname</td>
</tr>
<tr class="row-even"><td>_nattrs</td>
<td>&#160;</td>
<td>number of attributes</td>
<td>VSfnattrs</td>
</tr>
<tr class="row-odd"><td>_order</td>
<td>&#160;</td>
<td>order (number of values)</td>
<td>VFfieldorder</td>
</tr>
<tr class="row-even"><td>_type</td>
<td>&#160;</td>
<td>field type (HC.xxx)</td>
<td>VFfieldtype</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div></blockquote>
</div>
<div class="section" id="record-access-low-and-high-level">
<h2>Record access: low and high level<a class="headerlink" href="#record-access-low-and-high-level" title="Permalink to this headline">¶</a></h2>
<p>vdata records can be read and written in two different ways. The first one
consists of calling the basic I/O methods of the vdata:</p>
<ul class="simple">
<li>seek() to set the current record position, if necessary;</li>
<li>read() to retrieve a given number of records from that position;</li>
<li>write() to write a given number of records starting at
that position</li>
</ul>
<p>A second, higher level way, lets one see a vdata similarly to a python
sequence, and access its contents using the familiar indexing and slicing
notation in square brackets. Reading and writing a vdata as if it were a
python sequence may often look simpler, and improve code legibility.</p>
<p>Here are some examples of how a vdata ‘vd’ holding 3 fields could be read.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">vd</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>         <span class="c1"># print record 0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">vd</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>        <span class="c1"># print last record</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">vd</span><span class="p">[</span><span class="mi">2</span><span class="p">:])</span>        <span class="c1"># print records 2 and those that follow</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">vd</span><span class="p">[:])</span>         <span class="c1"># print all records</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">vd</span><span class="p">[:,</span><span class="mi">0</span><span class="p">])</span>       <span class="c1"># print field 0 of all records</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">vd</span><span class="p">[:</span><span class="mi">3</span><span class="p">,:</span><span class="mi">2</span><span class="p">])</span>     <span class="c1"># print first 2 fields of first 3 records</span>
</pre></div>
</div>
<p>As the above examples show, the usual python rules are obeyed regarding
the interpretation of indexing and slicing values. Note that the vdata
fields can be indexed and sliced, not only the records. The setfields()
method can also be used to select a subset to the vdata fields
(setfields() also let you reorder the fields). When the vdata is
indexed (as opposed to being sliced), a single record is returned as a list
of values. When the vdata is sliced, a list of records is
always returned (thus a 2-level list), even if the slice contains only
one record.</p>
<p>A vdata can also be written similarly to a python sequence. When indexing
the vdata (as opposed to slicing it), a single record must be assigned,
and the record must be given as a sequence of values. It is legal to use
as an index the current number of records in the vdata: the record is then
appended to the vdata. When slicing the vdata, the records assigned to the
slice must always be given as a list of records, even
if only one record is assigned. Also, the number of records assigned must
always match the width of the slice, except if the slice includes or goes
past the last record of the vdata. In that case, the number of records
assigned can exceed the width of the slice, and the extra records are
appended to the vdata. So, to append records to vdata ‘vd’, simply
assign records to the slice ‘vd[vd._nrecs:]’. Note that, even if the
‘field’ dimension can be specified in the left-hand side expression,
there is no real interest in doing so, since all fields must
be specified when assigning a record to the vdata: it is an error to
try to assign just a few of the fields.</p>
<p>For example, given a vdata ‘vd’ holding 5 records, and lists ‘reca’,
‘recb’, etc, holding record values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vd</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">reca</span>              <span class="c1"># updates record 0</span>
<span class="n">vd</span><span class="p">[</span><span class="mi">0</span><span class="p">,:]</span> <span class="o">=</span> <span class="n">reca</span>            <span class="c1"># specifying fields is OK, but useless</span>
<span class="n">vd</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">:]</span> <span class="o">=</span> <span class="n">reca</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span>       <span class="c1"># error: all fields must be assigned</span>
<span class="n">vd</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">recb</span><span class="p">,</span> <span class="n">recc</span><span class="p">]</span>      <span class="c1"># error: only one record allowed</span>
<span class="n">vd</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">=</span> <span class="n">recc</span>              <span class="c1"># append one record</span>
<span class="n">vd</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">reca</span><span class="p">,</span><span class="n">recb</span><span class="p">]</span>     <span class="c1"># updates second and third record</span>
<span class="n">vd</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">reca</span><span class="p">,</span> <span class="n">recb</span><span class="p">]</span>    <span class="c1"># error: 3 records needed</span>
<span class="n">vd</span><span class="p">[</span><span class="mi">5</span><span class="p">:]</span> <span class="o">=</span> <span class="p">[</span><span class="n">reca</span><span class="p">,</span><span class="n">recb</span><span class="p">]</span>      <span class="c1"># appends 2 records to the vdata</span>
<span class="n">vd</span><span class="p">[</span><span class="mi">4</span><span class="p">:]</span> <span class="o">=</span> <span class="p">[</span><span class="n">reca</span><span class="p">,</span> <span class="n">recb</span><span class="p">]</span>     <span class="c1"># updates last record, append one</span>
</pre></div>
</div>
</div>
<div class="section" id="programming-models">
<h2>Programming models<a class="headerlink" href="#programming-models" title="Permalink to this headline">¶</a></h2>
<div class="section" id="creating-and-initializing-a-new-vdata">
<h3>Creating and initializing a new vdata<a class="headerlink" href="#creating-and-initializing-a-new-vdata" title="Permalink to this headline">¶</a></h3>
<p>The following code can serve as a model for the creation and
initialization of a new vdata. It implements the INVENTORY example
described in the “Introduction” section:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyhdf.HDF</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">pyhdf.VS</span> <span class="k">import</span> <span class="o">*</span>

<span class="c1"># Open HDF file and initialize the VS interface</span>
<span class="n">f</span> <span class="o">=</span> <span class="n">HDF</span><span class="p">(</span><span class="s1">&#39;inventory.hdf&#39;</span><span class="p">,</span>    <span class="c1"># Open file &#39;inventory.hdf&#39; in write mode</span>
        <span class="n">HC</span><span class="o">.</span><span class="n">WRITE</span><span class="o">|</span><span class="n">HC</span><span class="o">.</span><span class="n">CREATE</span><span class="p">)</span> <span class="c1"># creating it if it does not exist</span>
<span class="n">vs</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">vstart</span><span class="p">()</span>             <span class="c1"># init vdata interface</span>

<span class="c1"># Create vdata and define its structure</span>
<span class="n">vd</span> <span class="o">=</span> <span class="n">vs</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>             <span class="c1"># create a new vdata</span>
               <span class="s1">&#39;INVENTORY&#39;</span><span class="p">,</span> <span class="c1"># name of the vdata</span>
                            <span class="c1"># fields of the vdata follow</span>
           <span class="p">((</span><span class="s1">&#39;partid&#39;</span><span class="p">,</span><span class="n">HC</span><span class="o">.</span><span class="n">CHAR8</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span>       <span class="c1"># 5 char string</span>
            <span class="p">(</span><span class="s1">&#39;description&#39;</span><span class="p">,</span><span class="n">HC</span><span class="o">.</span><span class="n">CHAR8</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="c1"># 10 char string field</span>
            <span class="p">(</span><span class="s1">&#39;qty&#39;</span><span class="p">,</span><span class="n">HC</span><span class="o">.</span><span class="n">INT16</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>          <span class="c1"># 1 16 bit int field</span>
            <span class="p">(</span><span class="s1">&#39;wght&#39;</span><span class="p">,</span><span class="n">HC</span><span class="o">.</span><span class="n">FLOAT32</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>       <span class="c1"># 1 32 bit float</span>
            <span class="p">(</span><span class="s1">&#39;price&#39;</span><span class="p">,</span><span class="n">HC</span><span class="o">.</span><span class="n">FLOAT32</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>        <span class="c1"># 1 32 bit float</span>
           <span class="p">))</span>         <span class="c1"># 5 fields allocated in the vdata</span>

<span class="c1"># Set attributes on the vdata and its fields</span>
<span class="n">vd</span><span class="o">.</span><span class="n">field</span><span class="p">(</span><span class="s1">&#39;wght&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unit</span> <span class="o">=</span> <span class="s1">&#39;lb&#39;</span>
<span class="n">vd</span><span class="o">.</span><span class="n">field</span><span class="p">(</span><span class="s1">&#39;price&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">unit</span> <span class="o">=</span> <span class="s1">&#39;$&#39;</span>
<span class="c1"># In order to be able to update a string attribute, it must</span>
<span class="c1"># always be set to the same length. This sets &#39;status&#39; to a 20</span>
<span class="c1"># char long, left-justified string, padded with spaces on the right.</span>
<span class="n">vd</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%-20s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="s1">&#39;phase 1 done&#39;</span>

<span class="c1"># Store records</span>
<span class="n">vd</span><span class="o">.</span><span class="n">write</span><span class="p">((</span>                <span class="c1"># write 3 records</span>
          <span class="p">(</span><span class="s1">&#39;Q1234&#39;</span><span class="p">,</span> <span class="s1">&#39;bolt&#39;</span><span class="p">,</span><span class="mi">12</span><span class="p">,</span> <span class="mf">0.01</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">),</span>   <span class="c1"># record 1</span>
          <span class="p">(</span><span class="s1">&#39;B5432&#39;</span><span class="p">,</span> <span class="s1">&#39;brush&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mf">0.4</span><span class="p">,</span> <span class="mf">4.25</span><span class="p">),</span>  <span class="c1"># record 2</span>
          <span class="p">(</span><span class="s1">&#39;S7613&#39;</span><span class="p">,</span> <span class="s1">&#39;scissor&#39;</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mf">3.75</span><span class="p">)</span>  <span class="c1"># record 3</span>
          <span class="p">))</span>
<span class="n">vd</span><span class="o">.</span><span class="n">detach</span><span class="p">()</span>               <span class="c1"># &quot;close&quot; the vdata</span>

<span class="n">vs</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>                  <span class="c1"># terminate the vdata interface</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>                 <span class="c1"># close the HDF file</span>
</pre></div>
</div>
<p>Note that is mandatory to always write whole records to the vdata.
Note also the comments about the initialization of the ‘status’
vdata attribute. We want to be able update this attribute (see
following examples). However, the VS API  prohibits changing an attribute
type when updating its value. Since the length (order) of an attribute
is part of its type, we make sure of setting the attribute to a length
long enough to accomodate the longest possible string we migh want to
assign to the attribute.</p>
</div>
<div class="section" id="appending-records-to-a-vdata">
<h3>Appending records to a vdata<a class="headerlink" href="#appending-records-to-a-vdata" title="Permalink to this headline">¶</a></h3>
<p>Appending records requires first seeking to the end of the vdata, to avoid
overwriting existing records. The following code can serve as a model. The
INVENTORY vdata created before is used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyhdf.HDF</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">pyhdf.VS</span> <span class="k">import</span> <span class="o">*</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">HDF</span><span class="p">(</span><span class="s1">&#39;inventory.hdf&#39;</span><span class="p">,</span>         <span class="c1"># Open &#39;inventory.hdf&#39; in write mode</span>
        <span class="n">HC</span><span class="o">.</span><span class="n">WRITE</span><span class="o">|</span><span class="n">HC</span><span class="o">.</span><span class="n">CREATE</span><span class="p">)</span>      <span class="c1"># creating it if it does not exist</span>
<span class="n">vs</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">vstart</span><span class="p">()</span>                  <span class="c1"># init vdata interface</span>
<span class="n">vd</span> <span class="o">=</span> <span class="n">vs</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="s1">&#39;INVENTORY&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>   <span class="c1"># attach &#39;INVENTORY&#39; in write mode</span>

<span class="c1"># Update the `status&#39; vdata attribute. The attribute length must not</span>
<span class="c1"># change. We call the attribute info() method, which returns a list</span>
<span class="c1"># where number of values (eg string length) is stored at index 2.</span>
<span class="c1"># We then assign a left justified string of exactly that length.</span>
<span class="nb">len</span> <span class="o">=</span> <span class="n">vd</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="s1">&#39;status&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">info</span><span class="p">()[</span><span class="mi">2</span><span class="p">]</span>
<span class="n">vd</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%-*s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">,</span> <span class="s1">&#39;phase 2 done&#39;</span><span class="p">)</span>

<span class="n">vd</span><span class="p">[</span><span class="n">vd</span><span class="o">.</span><span class="n">_nrecs</span><span class="p">:]</span> <span class="o">=</span> <span class="p">(</span>                     <span class="c1"># append 2 records</span>
      <span class="p">(</span><span class="s1">&#39;A4321&#39;</span><span class="p">,</span> <span class="s1">&#39;axe&#39;</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mf">1.5</span><span class="p">,</span> <span class="mi">25</span><span class="p">),</span>    <span class="c1"># first record</span>
      <span class="p">(</span><span class="s1">&#39;C3214&#39;</span><span class="p">,</span> <span class="s1">&#39;cup&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">3.25</span><span class="p">)</span> <span class="c1"># second record</span>
                <span class="p">)</span>
<span class="n">vd</span><span class="o">.</span><span class="n">detach</span><span class="p">()</span>               <span class="c1"># &quot;close&quot; the vdata</span>

<span class="n">vs</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>                  <span class="c1"># terminate the vdata interface</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>                 <span class="c1"># close the HDF file</span>
</pre></div>
</div>
<p>Note how, when updating the value of the ‘status’ vdata attribute,
we take care of assigning a value of the same length as that of the
original value. Otherwise, the assignment would raise an exception.
Records are written by assigning the vdata through a slicing
expression, like a python sequence. By specifying the number of records
as the start of the slice, the records are appended to the vdata.</p>
</div>
<div class="section" id="updating-records-in-a-vdata">
<h3>Updating records in a vdata<a class="headerlink" href="#updating-records-in-a-vdata" title="Permalink to this headline">¶</a></h3>
<p>Updating requires seeking to the record to update before writing the new
records. New data will overwrite this record and all records that follow,
until a new seek is performed or the vdata is closed. Note that record
numbering starts at 0.</p>
<p>The following code can serve as a model. The INVENTORY vdata created
before is used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyhdf.HDF</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">pyhdf.VS</span> <span class="k">import</span> <span class="o">*</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">HDF</span><span class="p">(</span><span class="s1">&#39;inventory.hdf&#39;</span><span class="p">,</span>         <span class="c1"># Open &#39;inventory.hdf&#39; in write mode</span>
        <span class="n">HC</span><span class="o">.</span><span class="n">WRITE</span><span class="o">|</span><span class="n">HC</span><span class="o">.</span><span class="n">CREATE</span><span class="p">)</span>      <span class="c1"># creating it if it does not exist</span>
<span class="n">vs</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">vstart</span><span class="p">()</span>                  <span class="c1"># init vdata interface</span>
<span class="n">vd</span> <span class="o">=</span> <span class="n">vs</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="s1">&#39;INVENTORY&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>   <span class="c1"># attach &#39;INVENTORY&#39; in write mode</span>

<span class="c1"># Update the `status&#39; vdata attribute. The attribute length must not</span>
<span class="c1"># change. We call the attribute info() method, which returns a list</span>
<span class="c1"># where number of values (eg string length) is stored at index 2.</span>
<span class="c1"># We then assign a left justified string of exactly that length.</span>
<span class="nb">len</span> <span class="o">=</span> <span class="n">vd</span><span class="o">.</span><span class="n">attr</span><span class="p">(</span><span class="s1">&#39;status&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">info</span><span class="p">()[</span><span class="mi">2</span><span class="p">]</span>
<span class="n">vd</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;</span><span class="si">%-*s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">,</span> <span class="s1">&#39;phase 3 done&#39;</span><span class="p">)</span>

<span class="c1"># Update record at index 1 (second record)</span>
<span class="n">vd</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>  <span class="o">=</span> <span class="p">(</span><span class="s1">&#39;Z4367&#39;</span><span class="p">,</span> <span class="s1">&#39;surprise&#39;</span><span class="p">,</span> <span class="mi">10</span><span class="p">,</span> <span class="mf">3.1</span><span class="p">,</span> <span class="mf">44.5</span><span class="p">)</span>
<span class="c1"># Update record at index 4, and all those that follow</span>
<span class="n">vd</span><span class="p">[</span><span class="mi">4</span><span class="p">:]</span> <span class="o">=</span> <span class="p">(</span>
          <span class="p">(</span><span class="s1">&#39;QR231&#39;</span><span class="p">,</span> <span class="s1">&#39;toy&#39;</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mf">2.5</span><span class="p">,</span> <span class="mi">45</span><span class="p">),</span>
          <span class="p">(</span><span class="s1">&#39;R3389&#39;</span><span class="p">,</span> <span class="s1">&#39;robot&#39;</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="mi">2000</span><span class="p">)</span>
          <span class="p">)</span>
<span class="n">vd</span><span class="o">.</span><span class="n">detach</span><span class="p">()</span>               <span class="c1"># &quot;close&quot; the vdata</span>
<span class="n">vs</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>                  <span class="c1"># terminate the vdata interface</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>                 <span class="c1"># close the HDF file</span>
</pre></div>
</div>
</div>
<div class="section" id="reading-a-vdata">
<h3>Reading a vdata<a class="headerlink" href="#reading-a-vdata" title="Permalink to this headline">¶</a></h3>
<p>The following example shows how read the vdata attributes and sequentially
maneuver through its records. Note how we use the exception mechanism
to break out of the reading loop when we reach the end of the vdata:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyhdf.HDF</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">pyhdf.VS</span> <span class="k">import</span> <span class="o">*</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">HDF</span><span class="p">(</span><span class="s1">&#39;inventory.hdf&#39;</span><span class="p">)</span>         <span class="c1"># open &#39;inventory.hdf&#39; in read mode</span>
<span class="n">vs</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">vstart</span><span class="p">()</span>                  <span class="c1"># init vdata interface</span>
<span class="n">vd</span> <span class="o">=</span> <span class="n">vs</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="s1">&#39;INVENTORY&#39;</span><span class="p">)</span>      <span class="c1"># attach &#39;INVENTORY&#39; in read mode</span>

<span class="c1"># Display some vdata attributes</span>
<span class="nb">print</span> <span class="s2">&quot;status:&quot;</span><span class="p">,</span> <span class="n">vd</span><span class="o">.</span><span class="n">status</span>
<span class="nb">print</span> <span class="s2">&quot;vdata: &quot;</span><span class="p">,</span> <span class="n">vd</span><span class="o">.</span><span class="n">_name</span>        <span class="c1"># predefined attribute: vdata name</span>
<span class="nb">print</span> <span class="s2">&quot;nrecs: &quot;</span><span class="p">,</span> <span class="n">vd</span><span class="o">.</span><span class="n">_nrecs</span>       <span class="c1"># predefined attribute:  num records</span>

<span class="c1"># Display value of attribute &#39;unit&#39; for all fields on which</span>
<span class="c1"># this attribute is set</span>
<span class="nb">print</span> <span class="s2">&quot;units: &quot;</span><span class="p">,</span>
<span class="k">for</span> <span class="n">fieldName</span> <span class="ow">in</span> <span class="n">vd</span><span class="o">.</span><span class="n">_fields</span><span class="p">:</span>     <span class="c1"># loop over all field names</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># instantiate field and obtain value of attribute &#39;unit&#39;</span>
        <span class="n">v</span> <span class="o">=</span> <span class="n">vd</span><span class="o">.</span><span class="n">field</span><span class="p">(</span><span class="n">fieldName</span><span class="p">)</span><span class="o">.</span><span class="n">unit</span>
        <span class="nb">print</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2">: </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">fieldName</span><span class="p">,</span> <span class="n">v</span><span class="p">),</span>
    <span class="k">except</span><span class="p">:</span>                      <span class="c1"># no &#39;unit&#39; attribute: ignore</span>
        <span class="k">pass</span>
<span class="nb">print</span> <span class="s2">&quot;&quot;</span>
<span class="nb">print</span> <span class="s2">&quot;&quot;</span>

<span class="c1"># Display table header.</span>
<span class="n">header</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">%-7s</span><span class="s2"> </span><span class="si">%-12s</span><span class="s2"> </span><span class="si">%3s</span><span class="s2"> </span><span class="si">%4s</span><span class="s2"> </span><span class="si">%8s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">vd</span><span class="o">.</span><span class="n">_fields</span><span class="p">)</span>
<span class="nb">print</span> <span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">header</span><span class="p">)</span>
<span class="nb">print</span> <span class="n">header</span>
<span class="nb">print</span> <span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">header</span><span class="p">)</span>

<span class="c1"># Loop over the vdata records, displaying each record as a table row.</span>
<span class="c1"># Current record position is 0 after attaching the vdata.</span>
<span class="k">while</span> <span class="mi">1</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">rec</span> <span class="o">=</span> <span class="n">vd</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>       <span class="c1"># read next record</span>
        <span class="c1"># equivalent to:</span>
      <span class="c1"># rec = vd[vd.tell()]</span>
        <span class="nb">print</span> <span class="s2">&quot;</span><span class="si">%-7s</span><span class="s2"> </span><span class="si">%-12s</span><span class="s2"> </span><span class="si">%3d</span><span class="s2"> </span><span class="si">%4.1f</span><span class="s2"> </span><span class="si">%8.2f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">rec</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">except</span> <span class="n">HDF4Error</span><span class="p">:</span>             <span class="c1"># end of vdata reached</span>
        <span class="k">break</span>

<span class="n">vd</span><span class="o">.</span><span class="n">detach</span><span class="p">()</span>               <span class="c1"># &quot;close&quot; the vdata</span>
<span class="n">vs</span><span class="o">.</span><span class="n">end</span><span class="p">()</span>                  <span class="c1"># terminate the vdata interface</span>
<span class="n">f</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>                 <span class="c1"># close the HDF file</span>
</pre></div>
</div>
<p>In the previous example, the reading/displaying loop can be greatly
simplified by rewriting it as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pyhdf.HDF</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">pyhdf.VS</span> <span class="k">import</span> <span class="o">*</span>

<span class="n">f</span> <span class="o">=</span> <span class="n">HDF</span><span class="p">(</span><span class="s1">&#39;inventory.hdf&#39;</span><span class="p">)</span>         <span class="c1"># open &#39;inventory.hdf&#39; in read mode</span>
<span class="n">vs</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">vstart</span><span class="p">()</span>                  <span class="c1"># init vdata interface</span>
<span class="n">vd</span> <span class="o">=</span> <span class="n">vs</span><span class="o">.</span><span class="n">attach</span><span class="p">(</span><span class="s1">&#39;INVENTORY&#39;</span><span class="p">)</span>      <span class="c1"># attach &#39;INVENTORY&#39; in read mode</span>

<span class="o">....</span>

<span class="c1"># Read all records at once, and loop over the sequence.</span>
<span class="k">for</span> <span class="n">rec</span> <span class="ow">in</span> <span class="n">vd</span><span class="p">[:]:</span>
    <span class="nb">print</span> <span class="s2">&quot;</span><span class="si">%-7s</span><span class="s2"> </span><span class="si">%-12s</span><span class="s2"> </span><span class="si">%3d</span><span class="s2"> </span><span class="si">%4.1f</span><span class="s2"> </span><span class="si">%8.2f</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">rec</span><span class="p">)</span>

<span class="n">vd</span><span class="o">.</span><span class="n">detach</span><span class="p">()</span>               <span class="c1"># &quot;close&quot; the vdata</span>
<span class="o">...</span>
</pre></div>
</div>
<p>The indexing expression ‘vd[:]’ returns the complete set of records,
which can then be looped over using a ‘for’ statement. This style of loop
is quite clean, and should look very familiar to python adepts.</p>
<dl class="class">
<dt id="pyhdf.VS.VS">
<em class="property">class </em><code class="descclassname">pyhdf.VS.</code><code class="descname">VS</code><span class="sig-paren">(</span><em>hinst</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VS"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VS" title="Permalink to this definition">¶</a></dt>
<dd><p>The VS class implements the VS (Vdata) interface applied to an
HDF file.
To instantiate a VS class, call the vstart() method of an
HDF instance.</p>
<dl class="method">
<dt id="pyhdf.VS.VS.attach">
<code class="descname">attach</code><span class="sig-paren">(</span><em>num_name</em>, <em>write=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VS.attach"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VS.attach" title="Permalink to this definition">¶</a></dt>
<dd><p>Locate an existing vdata or create a new vdata in the HDF file,
returning a VD instance.</p>
<p>Args:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">num_name</span>  <span class="n">Name</span> <span class="ow">or</span> <span class="n">reference</span> <span class="n">number</span> <span class="n">of</span> <span class="n">the</span> <span class="n">vdata</span><span class="o">.</span> <span class="n">An</span> <span class="n">existing</span> <span class="n">vdata</span>
          <span class="n">can</span> <span class="n">be</span> <span class="n">specified</span> <span class="n">either</span> <span class="n">through</span> <span class="n">its</span> <span class="n">reference</span> <span class="n">number</span> <span class="ow">or</span>
          <span class="n">its</span> <span class="n">name</span><span class="o">.</span> <span class="n">Use</span> <span class="o">-</span><span class="mi">1</span> <span class="n">to</span> <span class="n">create</span> <span class="n">a</span> <span class="n">new</span> <span class="n">vdata</span><span class="o">.</span>
          <span class="n">Note</span> <span class="n">that</span> <span class="n">uniqueness</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">imposed</span> <span class="n">on</span> <span class="n">vdatas</span> <span class="n">names</span><span class="p">,</span>
          <span class="n">whereas</span> <span class="n">refnums</span> <span class="n">are</span> <span class="n">guaranteed</span> <span class="n">to</span> <span class="n">be</span> <span class="n">unique</span><span class="o">.</span> <span class="n">Thus</span>
          <span class="n">knowledge</span> <span class="n">of</span> <span class="n">its</span> <span class="n">reference</span> <span class="n">number</span> <span class="n">may</span> <span class="n">be</span> <span class="n">the</span> <span class="n">only</span> <span class="n">way</span>
          <span class="n">to</span> <span class="n">get</span> <span class="n">at</span> <span class="n">a</span> <span class="n">wanted</span> <span class="n">vdata</span><span class="o">.</span>

<span class="n">write</span>     <span class="n">Set</span> <span class="n">to</span> <span class="mi">0</span> <span class="n">to</span> <span class="nb">open</span> <span class="n">the</span> <span class="n">vdata</span> <span class="ow">in</span> <span class="n">read</span><span class="o">-</span><span class="n">only</span> <span class="n">mode</span><span class="p">,</span>
          <span class="nb">set</span> <span class="n">to</span> <span class="mi">1</span> <span class="n">to</span> <span class="nb">open</span> <span class="n">it</span> <span class="ow">in</span> <span class="n">write</span> <span class="n">mode</span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">VD</span> <span class="n">instance</span> <span class="n">representing</span> <span class="n">the</span> <span class="n">vdata</span>
</pre></div>
</div>
<p>C library equivalent : VSattach</p>
<p>After creating a new vdata (num_name == -1), fields must be
defined using method fdefine() of the VD instance, and those
fields must be allocated to the vdata with method setfields().
Same results can be achieved, but more simply, by calling the
create() method of the VS instance.</p>
</dd></dl>

<dl class="method">
<dt id="pyhdf.VS.VS.create">
<code class="descname">create</code><span class="sig-paren">(</span><em>name</em>, <em>fields</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VS.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VS.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new vdata, setting its name and allocating
its fields.</p>
<p>Args:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name</span>     <span class="n">Name</span> <span class="n">to</span> <span class="n">assign</span> <span class="n">to</span> <span class="n">the</span> <span class="n">vdata</span>
<span class="n">fields</span>   <span class="n">Sequence</span> <span class="n">of</span> <span class="n">field</span> <span class="n">definitions</span><span class="o">.</span> <span class="n">Each</span> <span class="n">field</span> <span class="n">definition</span>
         <span class="ow">is</span> <span class="n">a</span> <span class="n">sequence</span> <span class="k">with</span> <span class="n">the</span> <span class="n">following</span> <span class="n">elements</span> <span class="ow">in</span> <span class="n">order</span><span class="p">:</span>

         <span class="o">-</span> <span class="n">field</span> <span class="n">name</span>
         <span class="o">-</span> <span class="n">field</span> <span class="nb">type</span> <span class="p">(</span><span class="n">one</span> <span class="n">of</span> <span class="n">HC</span><span class="o">.</span><span class="n">xxx</span> <span class="n">constants</span><span class="p">)</span>
         <span class="o">-</span> <span class="n">field</span> <span class="n">order</span> <span class="p">(</span><span class="n">number</span> <span class="n">of</span> <span class="n">values</span><span class="p">)</span>

         <span class="n">Fields</span> <span class="n">are</span> <span class="n">allocated</span> <span class="n">to</span> <span class="n">the</span> <span class="n">vdata</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">given</span> <span class="n">order</span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">VD</span> <span class="n">instance</span> <span class="n">representing</span> <span class="n">the</span> <span class="n">created</span> <span class="n">vdata</span>
</pre></div>
</div>
<dl class="docutils">
<dt>Calling the create() method is equivalent to the following calls:</dt>
<dd><ul class="first last simple">
<li><dl class="first docutils">
<dt>vd = attach(-1,1), to create a new vdata and open it in</dt>
<dd>write mode</dd>
</dl>
</li>
<li>vd._name = name, to set the vdata name</li>
<li><dl class="first docutils">
<dt>vd.fdefine(…), to define the name, type and order of</dt>
<dd>each field</dd>
</dl>
</li>
<li>vd.setfields(…), to allocate fields to the vdata</li>
</ul>
</dd>
</dl>
<p>C library equivalent : no equivalent</p>
</dd></dl>

<dl class="method">
<dt id="pyhdf.VS.VS.end">
<code class="descname">end</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VS.end"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VS.end" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the VS interface.</p>
<p>Args:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">No</span> <span class="n">argument</span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kc">None</span>
</pre></div>
</div>
<p>C library equivalent : Vend</p>
</dd></dl>

<dl class="method">
<dt id="pyhdf.VS.VS.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>vName</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VS.find"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VS.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the reference number of a vdata given its name.
The vdata can then be opened (attached) by passing this
reference number to the attach() method.</p>
<p>Args:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vName</span>    <span class="n">Name</span> <span class="n">of</span> <span class="n">the</span> <span class="n">vdata</span> <span class="k">for</span> <span class="n">which</span> <span class="n">the</span> <span class="n">reference</span> <span class="n">number</span>
         <span class="ow">is</span> <span class="n">needed</span><span class="o">.</span> <span class="n">vdatas</span> <span class="n">names</span> <span class="n">are</span> <span class="ow">not</span> <span class="n">guaranteed</span> <span class="n">to</span> <span class="n">be</span>
         <span class="n">unique</span><span class="o">.</span> <span class="n">When</span> <span class="n">more</span> <span class="n">than</span> <span class="n">one</span> <span class="n">vdata</span> <span class="n">bear</span> <span class="n">the</span> <span class="n">same</span> <span class="n">name</span><span class="p">,</span>
         <span class="n">find</span><span class="p">()</span> <span class="n">will</span> <span class="k">return</span> <span class="n">the</span> <span class="n">refnum</span> <span class="n">of</span> <span class="n">the</span> <span class="n">first</span> <span class="n">one</span> <span class="n">founmd</span><span class="o">.</span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vdata</span> <span class="n">reference</span> <span class="n">number</span><span class="o">.</span> <span class="mi">0</span> <span class="ow">is</span> <span class="n">returned</span> <span class="k">if</span> <span class="n">the</span> <span class="n">vdata</span> <span class="n">does</span> <span class="ow">not</span> <span class="n">exist</span><span class="o">.</span>
</pre></div>
</div>
<p>C library equivalent : VSfind</p>
</dd></dl>

<dl class="method">
<dt id="pyhdf.VS.VS.next">
<code class="descname">next</code><span class="sig-paren">(</span><em>vRef</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VS.next"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VS.next" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the reference number of the vdata following a given
vdata.</p>
<p>Args:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vRef</span>   <span class="n">Reference</span> <span class="n">number</span> <span class="n">of</span> <span class="n">the</span> <span class="n">vdata</span> <span class="n">preceding</span> <span class="n">the</span> <span class="n">one</span>
       <span class="n">we</span> <span class="n">require</span><span class="o">.</span> <span class="n">Set</span> <span class="n">to</span> <span class="o">-</span><span class="mi">1</span> <span class="n">to</span> <span class="n">get</span> <span class="n">the</span> <span class="n">first</span> <span class="n">vdata</span> <span class="ow">in</span>
       <span class="n">the</span> <span class="n">HDF</span> <span class="n">file</span><span class="o">.</span> <span class="n">Knowing</span> <span class="n">its</span> <span class="n">reference</span> <span class="n">number</span><span class="p">,</span>
       <span class="n">the</span> <span class="n">vdata</span> <span class="n">can</span> <span class="n">then</span> <span class="n">be</span> <span class="n">opened</span> <span class="p">(</span><span class="n">attached</span><span class="p">)</span> <span class="n">by</span> <span class="n">passing</span> <span class="n">this</span>
       <span class="n">reference</span> <span class="n">number</span> <span class="n">to</span> <span class="n">the</span> <span class="n">attach</span><span class="p">()</span> <span class="n">method</span><span class="o">.</span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Reference</span> <span class="n">number</span> <span class="n">of</span> <span class="n">the</span> <span class="n">vdata</span> <span class="n">following</span> <span class="n">the</span> <span class="n">one</span> <span class="n">given</span>
<span class="n">by</span> <span class="n">argument</span> <span class="n">vref</span>
</pre></div>
</div>
<p>An exception is raised if no vdata follows the one given by vRef.</p>
<p>C library equivalent : VSgetid</p>
</dd></dl>

<dl class="method">
<dt id="pyhdf.VS.VS.storedata">
<code class="descname">storedata</code><span class="sig-paren">(</span><em>fieldName</em>, <em>values</em>, <em>data_type</em>, <em>vName</em>, <em>vClass</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VS.storedata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VS.storedata" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and initialize a single field vdata, returning
the vdata reference number.</p>
<p>Args:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>fieldName   Name of the single field in the vadata to create
values      Sequence of values to store in the field;. Each value can
            itself be a sequence, in which case the field will be
            multivalued (all second-level sequences must be of
            the same length)
data_type   Values type (one of HC.xxx constants). All values
            must be of the same type
vName       Name of the vdata to create
vClass      Vdata class (string)
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">vdata</span> <span class="n">reference</span> <span class="n">number</span>
</pre></div>
</div>
<p>C library equivalent : VHstoredata / VHstoredatam</p>
</dd></dl>

<dl class="method">
<dt id="pyhdf.VS.VS.vdatainfo">
<code class="descname">vdatainfo</code><span class="sig-paren">(</span><em>listAttr=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VS.vdatainfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VS.vdatainfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Return info about all the file vdatas.</p>
<p>Args:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">listAttr</span>   <span class="n">Set</span> <span class="n">to</span> <span class="mi">0</span> <span class="n">to</span> <span class="n">ignore</span> <span class="n">vdatas</span> <span class="n">used</span> <span class="n">to</span> <span class="n">store</span> <span class="n">attribute</span>
           <span class="n">values</span><span class="p">,</span> <span class="mi">1</span> <span class="n">to</span> <span class="nb">list</span> <span class="n">them</span> <span class="p">(</span><span class="n">see</span> <span class="n">the</span> <span class="n">VD</span><span class="o">.</span><span class="n">_isattr</span> <span class="n">readonly</span>
           <span class="n">attribute</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>List of vdata descriptions. Each vdata is described as
a 9-element tuple, composed of the following:

- vdata name
- vdata class
- vdata reference number
- vdata number of records
- vdata number of fields
- vdata number of attributes
- vdata record size in bytes
- vdata tag number
- vdata interlace mode
</pre></div>
</div>
<p>C library equivalent : no equivalent</p>
</dd></dl>

<dl class="method">
<dt id="pyhdf.VS.VS.vend">
<code class="descname">vend</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pyhdf.VS.VS.vend" title="Permalink to this definition">¶</a></dt>
<dd><p>Close the VS interface.</p>
<p>Args:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">No</span> <span class="n">argument</span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kc">None</span>
</pre></div>
</div>
<p>C library equivalent : Vend</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyhdf.VS.VD">
<em class="property">class </em><code class="descclassname">pyhdf.VS.</code><code class="descname">VD</code><span class="sig-paren">(</span><em>vsinst</em>, <em>id</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VD"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VD" title="Permalink to this definition">¶</a></dt>
<dd><p>The VD class encapsulates the functionnality of a vdata.
To instantiate a VD class, call the attach() or the create()
method of a VS class instance.</p>
<dl class="method">
<dt id="pyhdf.VS.VD.attr">
<code class="descname">attr</code><span class="sig-paren">(</span><em>name_or_index</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VD.attr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VD.attr" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a VDAttr instance representing a vdata attribute.</p>
<p>Args:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name_or_index</span>   <span class="n">attribute</span> <span class="n">name</span> <span class="ow">or</span> <span class="n">index</span> <span class="n">number</span><span class="p">;</span> <span class="k">if</span> <span class="n">a</span> <span class="n">name</span> <span class="ow">is</span>
                <span class="n">given</span><span class="p">,</span> <span class="n">the</span> <span class="n">attribute</span> <span class="n">may</span> <span class="ow">not</span> <span class="n">exist</span><span class="p">;</span> <span class="ow">in</span> <span class="n">that</span>
                <span class="n">case</span><span class="p">,</span> <span class="n">it</span> <span class="n">will</span> <span class="n">be</span> <span class="n">created</span> <span class="n">when</span> <span class="n">the</span> <span class="n">VSAttr</span>
                <span class="n">instance</span> <span class="nb">set</span><span class="p">()</span> <span class="n">method</span> <span class="ow">is</span> <span class="n">called</span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">VSAttr</span> <span class="n">instance</span> <span class="k">for</span> <span class="n">the</span> <span class="n">attribute</span><span class="o">.</span> <span class="n">Call</span> <span class="n">the</span> <span class="n">methods</span> <span class="n">of</span> <span class="n">this</span>
<span class="k">class</span> <span class="nc">to</span> <span class="n">query</span><span class="p">,</span> <span class="n">read</span> <span class="ow">or</span> <span class="nb">set</span> <span class="n">the</span> <span class="n">attribute</span><span class="o">.</span>
</pre></div>
</div>
<p>C library equivalent : no equivalent</p>
</dd></dl>

<dl class="method">
<dt id="pyhdf.VS.VD.attrinfo">
<code class="descname">attrinfo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VD.attrinfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VD.attrinfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Return info about all the vdata attributes.</p>
<p>Args:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">argument</span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dictionnary</span> <span class="n">describing</span> <span class="n">each</span> <span class="n">vdata</span> <span class="n">attribute</span><span class="p">;</span> <span class="k">for</span> <span class="n">each</span> <span class="n">attribute</span>
<span class="n">a</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="n">data</span><span class="p">)</span> <span class="n">pair</span> <span class="ow">is</span> <span class="n">added</span> <span class="n">to</span> <span class="n">the</span> <span class="n">dictionary</span><span class="p">,</span> <span class="n">where</span> <span class="s1">&#39;data&#39;</span> <span class="ow">is</span>
<span class="n">a</span> <span class="nb">tuple</span> <span class="n">holding</span><span class="p">:</span>
<span class="o">-</span> <span class="n">attribute</span> <span class="n">data</span> <span class="nb">type</span> <span class="p">(</span><span class="n">one</span> <span class="n">of</span> <span class="n">HC</span><span class="o">.</span><span class="n">xxx</span> <span class="n">constants</span><span class="p">)</span>
<span class="o">-</span> <span class="n">attribute</span> <span class="n">order</span>
<span class="o">-</span> <span class="n">attribute</span> <span class="n">value</span>
<span class="o">-</span> <span class="n">attribute</span> <span class="n">size</span> <span class="ow">in</span> <span class="nb">bytes</span>
</pre></div>
</div>
<p>C library equivalent : no equivalent</p>
</dd></dl>

<dl class="method">
<dt id="pyhdf.VS.VD.detach">
<code class="descname">detach</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VD.detach"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VD.detach" title="Permalink to this definition">¶</a></dt>
<dd><p>Terminate access to the vdata.</p>
<p>Args:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">argument</span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kc">None</span>
</pre></div>
</div>
<p>C library equivalent : VSdetach</p>
</dd></dl>

<dl class="method">
<dt id="pyhdf.VS.VD.fdefine">
<code class="descname">fdefine</code><span class="sig-paren">(</span><em>name</em>, <em>type</em>, <em>order</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VD.fdefine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VD.fdefine" title="Permalink to this definition">¶</a></dt>
<dd><p>Define a field. To initialize a newly created vdata with
fields created with fdefine(), assign a tuple of field names
to the _fields attribute or call the setfields() method.</p>
<p>Args:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name</span>     <span class="n">field</span> <span class="n">name</span>
<span class="nb">type</span>     <span class="n">field</span> <span class="n">data</span> <span class="nb">type</span> <span class="p">(</span><span class="n">one</span> <span class="n">of</span> <span class="n">HC</span><span class="o">.</span><span class="n">xxx</span><span class="p">)</span>
<span class="n">order</span>    <span class="n">field</span> <span class="n">order</span> <span class="p">(</span><span class="n">number</span> <span class="n">of</span> <span class="n">values</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">field</span><span class="p">)</span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kc">None</span>
</pre></div>
</div>
<p>C library equivalent : VSfdefine</p>
</dd></dl>

<dl class="method">
<dt id="pyhdf.VS.VD.fexist">
<code class="descname">fexist</code><span class="sig-paren">(</span><em>fields</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VD.fexist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VD.fexist" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if a vdata contains a given set of fields.</p>
<p>Args:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fields</span>   <span class="n">sequence</span> <span class="n">of</span> <span class="n">field</span> <span class="n">names</span> <span class="n">whose</span> <span class="n">presence</span> <span class="ow">in</span> <span class="n">the</span>
         <span class="n">vdata</span> <span class="n">must</span> <span class="n">be</span> <span class="n">checked</span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">true</span>  <span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="k">if</span> <span class="n">the</span> <span class="n">given</span> <span class="n">fields</span> <span class="n">are</span> <span class="n">present</span>
<span class="n">false</span> <span class="p">(</span><span class="mi">0</span><span class="p">)</span> <span class="n">otherwise</span>
</pre></div>
</div>
<p>C library equivalent : VSfexist</p>
</dd></dl>

<dl class="method">
<dt id="pyhdf.VS.VD.field">
<code class="descname">field</code><span class="sig-paren">(</span><em>name_index</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VD.field"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VD.field" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a VDField instance representing a field of the vdata.</p>
<p>Args:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name_index</span>   <span class="n">name</span> <span class="ow">or</span> <span class="n">index</span> <span class="n">number</span> <span class="n">of</span> <span class="n">the</span> <span class="n">field</span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">VDfield</span> <span class="n">instance</span> <span class="n">representing</span> <span class="n">the</span> <span class="n">field</span>
</pre></div>
</div>
<p>C library equivalent : no equivalent</p>
</dd></dl>

<dl class="method">
<dt id="pyhdf.VS.VD.fieldinfo">
<code class="descname">fieldinfo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VD.fieldinfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VD.fieldinfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve info about all vdata fields.</p>
<p>Args:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">argument</span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">list</span> <span class="n">where</span> <span class="n">each</span> <span class="n">element</span> <span class="n">describes</span> <span class="n">a</span> <span class="n">field</span> <span class="n">of</span> <span class="n">the</span> <span class="n">vdata</span><span class="p">;</span>
<span class="n">each</span> <span class="n">field</span> <span class="ow">is</span> <span class="n">described</span> <span class="n">by</span> <span class="n">an</span> <span class="mi">7</span><span class="o">-</span><span class="n">element</span> <span class="nb">tuple</span> <span class="n">containing</span>
<span class="n">the</span> <span class="n">following</span> <span class="n">elements</span><span class="p">:</span>

<span class="o">-</span> <span class="n">field</span> <span class="n">name</span>
<span class="o">-</span> <span class="n">field</span> <span class="n">data</span> <span class="nb">type</span> <span class="p">(</span><span class="n">one</span> <span class="n">of</span> <span class="n">HC</span><span class="o">.</span><span class="n">xxx</span> <span class="n">constants</span><span class="p">)</span>
<span class="o">-</span> <span class="n">field</span> <span class="n">order</span>
<span class="o">-</span> <span class="n">number</span> <span class="n">of</span> <span class="n">attributes</span> <span class="n">attached</span> <span class="n">to</span> <span class="n">the</span> <span class="n">field</span>
<span class="o">-</span> <span class="n">field</span> <span class="n">index</span> <span class="n">number</span>
<span class="o">-</span> <span class="n">field</span> <span class="n">external</span> <span class="n">size</span>
<span class="o">-</span> <span class="n">field</span> <span class="n">internal</span> <span class="n">size</span>
</pre></div>
</div>
<p>C library equivalent : no equivalent</p>
</dd></dl>

<dl class="method">
<dt id="pyhdf.VS.VD.findattr">
<code class="descname">findattr</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VD.findattr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VD.findattr" title="Permalink to this definition">¶</a></dt>
<dd><p>Search the vdata for a given attribute.</p>
<p>Args:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name</span>    <span class="n">attribute</span> <span class="n">name</span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="k">if</span> <span class="n">found</span><span class="p">,</span> <span class="n">VDAttr</span> <span class="n">instance</span> <span class="n">describing</span> <span class="n">the</span> <span class="n">attribute</span>
 <span class="kc">None</span> <span class="n">otherwise</span>

<span class="n">C</span> <span class="n">library</span> <span class="n">equivalent</span> <span class="p">:</span> <span class="n">VSfindattr</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="pyhdf.VS.VD.inquire">
<code class="descname">inquire</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VD.inquire"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VD.inquire" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve info about the vdata.</p>
<p>Args:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">argument</span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">5</span><span class="o">-</span><span class="n">element</span> <span class="nb">tuple</span> <span class="k">with</span> <span class="n">the</span> <span class="n">following</span> <span class="n">elements</span><span class="p">:</span>
  <span class="o">-</span><span class="n">number</span> <span class="n">of</span> <span class="n">records</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">vdata</span>
  <span class="o">-</span><span class="n">interlace</span> <span class="n">mode</span>
  <span class="o">-</span><span class="nb">list</span> <span class="n">of</span> <span class="n">vdata</span> <span class="n">field</span> <span class="n">names</span>
  <span class="o">-</span><span class="n">size</span> <span class="ow">in</span> <span class="nb">bytes</span> <span class="n">of</span> <span class="n">the</span> <span class="n">vdata</span> <span class="n">record</span>
  <span class="o">-</span><span class="n">name</span> <span class="n">of</span> <span class="n">the</span> <span class="n">vdata</span>
</pre></div>
</div>
<p>C library equivalent : VSinquire</p>
</dd></dl>

<dl class="method">
<dt id="pyhdf.VS.VD.read">
<code class="descname">read</code><span class="sig-paren">(</span><em>nRec=1</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VD.read"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VD.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the values of a number of records, starting
at the current record position. The current record position
is advanced by the number of records read. Current position
is 0 after “opening” the vdata with the attach() method.</p>
<p>Args:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">nRec</span>    <span class="n">number</span> <span class="n">of</span> <span class="n">records</span> <span class="n">to</span> <span class="n">read</span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">2</span><span class="o">-</span><span class="n">level</span> <span class="nb">list</span><span class="o">.</span> <span class="n">First</span> <span class="n">level</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">sequence</span> <span class="n">of</span> <span class="n">records</span><span class="p">,</span>
<span class="n">second</span> <span class="n">level</span> <span class="n">gives</span> <span class="n">the</span> <span class="n">sequence</span> <span class="n">of</span> <span class="n">values</span> <span class="k">for</span> <span class="n">each</span> <span class="n">record</span><span class="o">.</span>
<span class="n">The</span> <span class="n">values</span> <span class="n">returned</span> <span class="k">for</span> <span class="n">each</span> <span class="n">record</span> <span class="n">are</span> <span class="n">those</span> <span class="n">of</span> <span class="n">the</span> <span class="n">fields</span>
<span class="n">specified</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">last</span> <span class="n">call</span> <span class="n">to</span> <span class="n">method</span> <span class="n">setfields</span><span class="p">(),</span> <span class="ow">in</span> <span class="n">that</span>
<span class="n">order</span><span class="o">.</span> <span class="n">The</span> <span class="n">complete</span> <span class="n">vdata</span> <span class="n">field</span> <span class="nb">set</span> <span class="ow">is</span> <span class="n">returned</span> <span class="k">if</span>
<span class="n">setfields</span><span class="p">()</span> <span class="n">has</span> <span class="ow">not</span> <span class="n">been</span> <span class="n">called</span><span class="o">.</span>
</pre></div>
</div>
<p>An exception is raised if the current record position is
already at the end of the vdata when read() is called. This
exception can be caught as an “end of vdata” indication to
exit a loop which scans each record of the vdata. Otherwise,
the number of records to be read is lowered to the number of
records remaining in the vdata, if that number is less than
the number asked for by parameter ‘nRec’. Setting ‘nRec’ to
an arbitrarily large value can thus be used to retrieve the
remaining records in the vdata.</p>
<p>C library equivalent : VSread</p>
</dd></dl>

<dl class="method">
<dt id="pyhdf.VS.VD.seek">
<code class="descname">seek</code><span class="sig-paren">(</span><em>recIndex</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VD.seek"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VD.seek" title="Permalink to this definition">¶</a></dt>
<dd><p>Seek to the beginning of the record identified by its
record index. A succeeding read will load this record in
memory.</p>
<p>Args:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">recIndex</span>  <span class="n">index</span> <span class="n">of</span> <span class="n">the</span> <span class="n">record</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">vdata</span><span class="p">;</span> <span class="n">numbering</span>
          <span class="n">starts</span> <span class="n">at</span> <span class="mf">0.</span> <span class="n">Legal</span> <span class="n">values</span> <span class="nb">range</span> <span class="kn">from</span> <span class="mi">0</span>
          <span class="p">(</span><span class="n">start</span> <span class="n">of</span> <span class="n">vdata</span><span class="p">)</span> <span class="n">to</span> <span class="n">the</span> <span class="n">current</span> <span class="n">number</span> <span class="n">of</span>
          <span class="n">records</span> <span class="p">(</span><span class="n">at</span> <span class="n">end</span> <span class="n">of</span> <span class="n">vdata</span><span class="p">)</span><span class="o">.</span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">record</span> <span class="n">index</span>
</pre></div>
</div>
<p>An exception is raised if an attempt is made to seek beyond the
last record.</p>
<p>The C API prohibits seeking past the next-to-last record,
forcing one to read the last record to advance to the end
of the vdata. The python API removes this limitation.</p>
<p>Seeking to the end of the vdata can also be done by calling
method <code class="docutils literal notranslate"><span class="pre">seekend()</span></code>.</p>
<p>C library equivalent : VSseek</p>
</dd></dl>

<dl class="method">
<dt id="pyhdf.VS.VD.seekend">
<code class="descname">seekend</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VD.seekend"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VD.seekend" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the current record position past the last vdata record.
Subsequent write() calls will append records to the vdata.</p>
<p>Args:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">argument</span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">index</span> <span class="n">of</span> <span class="n">the</span> <span class="n">last</span> <span class="n">record</span> <span class="n">plus</span> <span class="mi">1</span>
</pre></div>
</div>
<p>C library equivalent : no equivalent</p>
</dd></dl>

<dl class="method">
<dt id="pyhdf.VS.VD.setfields">
<code class="descname">setfields</code><span class="sig-paren">(</span><em>*fldNames</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VD.setfields"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VD.setfields" title="Permalink to this definition">¶</a></dt>
<dd><p>Define the name and order of the fields to access
with the read() and write() methods.</p>
<p>Args:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fldNames</span>  <span class="n">variable</span> <span class="n">length</span> <span class="n">argument</span> <span class="n">specifying</span> <span class="n">one</span> <span class="ow">or</span> <span class="n">more</span>
          <span class="n">vdata</span> <span class="n">field</span> <span class="n">names</span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kc">None</span>
</pre></div>
</div>
<p>C library equivalent : VSsetfields</p>
<p>setfields() indicates how to perform the matching between the vdata
fields and the values passed to the write() method or returned
by the read() method.</p>
<p>For example, if the vdata contains fields ‘a’, ‘b’ and ‘c’ and
a “setfields(‘c’,’a’)” call is made,  read() will thereafter return
for each record the values of field ‘c’ and ‘a’, in that order.
Field ‘b’ will be ignored.</p>
<p>When writing to a vdata, setfields() has a second usage. It is used
to initialize the structure of the vdata, that is, the name and order
of the fields that it will contain. The fields must have been
previously defined by calls to the fdefine() method.
Following that first call, setfields() can be called again to
change the order in which the record values will be passed
to the write() method. However, since it is mandatory to write
whole records, subsequent calls to setfields() must specify every
field name: only the field order can be changed.</p>
</dd></dl>

<dl class="method">
<dt id="pyhdf.VS.VD.sizeof">
<code class="descname">sizeof</code><span class="sig-paren">(</span><em>fields</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VD.sizeof"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VD.sizeof" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the size in bytes of the given fields.</p>
<p>Args:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fields</span>   <span class="n">sequence</span> <span class="n">of</span> <span class="n">field</span> <span class="n">names</span> <span class="n">to</span> <span class="n">query</span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">total</span> <span class="n">size</span> <span class="n">of</span> <span class="n">the</span> <span class="n">fields</span> <span class="ow">in</span> <span class="nb">bytes</span>
</pre></div>
</div>
<p>C library equivalent : VSsizeof</p>
</dd></dl>

<dl class="method">
<dt id="pyhdf.VS.VD.tell">
<code class="descname">tell</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VD.tell"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VD.tell" title="Permalink to this definition">¶</a></dt>
<dd><p>Return current record position in the vdata.</p>
<p>Args:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">argument</span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">current</span> <span class="n">record</span> <span class="n">position</span><span class="p">;</span> <span class="mi">0</span> <span class="ow">is</span> <span class="n">at</span> <span class="n">start</span> <span class="n">of</span> <span class="n">vdata</span><span class="o">.</span>
</pre></div>
</div>
<p>C library equivalent : no equivalent</p>
</dd></dl>

<dl class="method">
<dt id="pyhdf.VS.VD.write">
<code class="descname">write</code><span class="sig-paren">(</span><em>values</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VD.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VD.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write records to the vdata. Writing starts at the current
record position, which is advanced by the number of records
written.</p>
<p>Args:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">values</span><span class="p">:</span> <span class="mi">2</span><span class="o">-</span><span class="n">level</span> <span class="n">sequence</span><span class="o">.</span> <span class="n">First</span> <span class="n">level</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">sequence</span> <span class="n">of</span> <span class="n">records</span><span class="o">.</span>
        <span class="n">A</span> <span class="n">second</span> <span class="n">level</span> <span class="n">gives</span> <span class="n">the</span> <span class="n">sequence</span> <span class="n">of</span> <span class="n">record</span> <span class="n">values</span><span class="o">.</span>
        <span class="n">It</span> <span class="ow">is</span> <span class="n">mandatory</span> <span class="n">to</span> <span class="n">always</span> <span class="n">write</span> <span class="n">whole</span> <span class="n">records</span><span class="o">.</span> <span class="n">Thus</span>
        <span class="n">every</span> <span class="n">record</span> <span class="n">field</span> <span class="n">must</span> <span class="n">appear</span> <span class="n">at</span> <span class="n">the</span> <span class="n">second</span> <span class="n">level</span><span class="o">.</span>
        <span class="n">The</span> <span class="n">record</span> <span class="n">values</span> <span class="n">are</span> <span class="n">ordered</span> <span class="n">according</span> <span class="n">the</span> <span class="nb">list</span> <span class="n">of</span>
        <span class="n">field</span> <span class="n">names</span> <span class="nb">set</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">last</span> <span class="n">call</span> <span class="n">to</span> <span class="n">the</span> <span class="n">setfields</span><span class="p">()</span>
        <span class="n">method</span><span class="o">.</span> <span class="n">The</span> <span class="n">ordre</span> <span class="n">of</span> <span class="n">the</span> <span class="n">complete</span> <span class="n">vdata</span> <span class="n">field</span> <span class="nb">set</span> <span class="ow">is</span>
        <span class="n">used</span> <span class="k">if</span> <span class="n">setfields</span><span class="p">()</span> <span class="n">has</span> <span class="ow">not</span> <span class="n">been</span> <span class="n">called</span><span class="o">.</span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">number</span> <span class="n">of</span> <span class="n">records</span> <span class="n">written</span>
</pre></div>
</div>
<p>To append to a vdata already holding ‘n’ records, it is necessary
to first move the current record position to ‘n-1’ with a call to
method seek(), then to call method read() for the side effect
of advancing the current record position past this last record.
Method seekend() does just that.</p>
<p>C library equivalent : VSwrite</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyhdf.VS.VDField">
<em class="property">class </em><code class="descclassname">pyhdf.VS.</code><code class="descname">VDField</code><span class="sig-paren">(</span><em>vdinst</em>, <em>fIndex</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VDField"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VDField" title="Permalink to this definition">¶</a></dt>
<dd><p>The VDField class represents a vdata field.
To create a VDField instance, call the field() method of a
VD class instance.</p>
<dl class="method">
<dt id="pyhdf.VS.VDField.attr">
<code class="descname">attr</code><span class="sig-paren">(</span><em>name_or_index</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VDField.attr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VDField.attr" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a VDAttr instance representing a field attribute.</p>
<p>Args:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name_or_index</span>   <span class="n">attribute</span> <span class="n">name</span> <span class="ow">or</span> <span class="n">index</span> <span class="n">number</span><span class="p">;</span> <span class="k">if</span> <span class="n">a</span> <span class="n">name</span> <span class="ow">is</span>
                <span class="n">specified</span><span class="p">,</span> <span class="n">the</span> <span class="n">attribute</span> <span class="n">may</span> <span class="ow">not</span> <span class="n">exist</span><span class="p">;</span> <span class="ow">in</span> <span class="n">that</span>
                <span class="n">case</span><span class="p">,</span> <span class="n">it</span> <span class="n">will</span> <span class="n">be</span> <span class="n">created</span> <span class="n">when</span> <span class="n">the</span> <span class="n">VDAttr</span>
                <span class="n">instance</span> <span class="nb">set</span><span class="p">()</span> <span class="n">method</span> <span class="ow">is</span> <span class="n">called</span><span class="p">;</span> <span class="k">if</span> <span class="n">an</span>
                <span class="n">index</span> <span class="n">number</span> <span class="ow">is</span> <span class="n">specified</span><span class="p">,</span> <span class="n">the</span> <span class="n">attribute</span>
                <span class="n">must</span> <span class="n">exist</span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">VSAttr</span> <span class="n">instance</span> <span class="k">for</span> <span class="n">the</span> <span class="n">attribute</span><span class="o">.</span> <span class="n">Call</span> <span class="n">the</span> <span class="n">methods</span> <span class="n">of</span> <span class="n">this</span>
<span class="k">class</span> <span class="nc">to</span> <span class="n">query</span><span class="p">,</span> <span class="n">read</span> <span class="ow">or</span> <span class="nb">set</span> <span class="n">the</span> <span class="n">attribute</span><span class="o">.</span>
</pre></div>
</div>
<p>C library equivalent : no equivalent</p>
</dd></dl>

<dl class="method">
<dt id="pyhdf.VS.VDField.attrinfo">
<code class="descname">attrinfo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VDField.attrinfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VDField.attrinfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Return info about all the field attributes.</p>
<p>Args:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">argument</span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dictionnary</span> <span class="n">describing</span> <span class="n">each</span> <span class="n">vdata</span> <span class="n">attribute</span><span class="p">;</span> <span class="k">for</span> <span class="n">each</span> <span class="n">attribute</span>
<span class="n">a</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span><span class="n">data</span><span class="p">)</span> <span class="n">pair</span> <span class="ow">is</span> <span class="n">added</span> <span class="n">to</span> <span class="n">the</span> <span class="n">dictionary</span><span class="p">,</span> <span class="n">where</span> <span class="s1">&#39;data&#39;</span> <span class="ow">is</span>
<span class="n">a</span> <span class="nb">tuple</span> <span class="n">holding</span><span class="p">:</span>

<span class="o">-</span> <span class="n">attribute</span> <span class="n">data</span> <span class="nb">type</span> <span class="p">(</span><span class="n">one</span> <span class="n">of</span> <span class="n">HC</span><span class="o">.</span><span class="n">xxx</span> <span class="n">constants</span><span class="p">)</span>
<span class="o">-</span> <span class="n">attribute</span> <span class="n">order</span>
<span class="o">-</span> <span class="n">attribute</span> <span class="n">value</span>
<span class="o">-</span> <span class="n">attribute</span> <span class="n">size</span> <span class="ow">in</span> <span class="nb">bytes</span>
</pre></div>
</div>
<p>C library equivalent : no equivalent</p>
</dd></dl>

<dl class="method">
<dt id="pyhdf.VS.VDField.find">
<code class="descname">find</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VDField.find"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VDField.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Search the field for a given attribute.</p>
<p>Args:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name</span>    <span class="n">attribute</span> <span class="n">name</span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span> <span class="k">if</span> <span class="n">found</span><span class="p">,</span> <span class="n">VDAttr</span> <span class="n">instance</span> <span class="n">describing</span> <span class="n">the</span> <span class="n">attribute</span>
 <span class="kc">None</span> <span class="n">otherwise</span>

<span class="n">C</span> <span class="n">library</span> <span class="n">equivalent</span> <span class="p">:</span> <span class="n">VSfindattr</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pyhdf.VS.VDAttr">
<em class="property">class </em><code class="descclassname">pyhdf.VS.</code><code class="descname">VDAttr</code><span class="sig-paren">(</span><em>obj</em>, <em>name_or_index</em>, <em>fIndex</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VDAttr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VDAttr" title="Permalink to this definition">¶</a></dt>
<dd><p>The VDAttr class encapsulates methods used to set and query attributes
defined at the level either of the vdata or of the vdata field.
To create an instance of this class, call the attr() method of a VD
(vdata) or VDField (vdata field) instance.</p>
<dl class="method">
<dt id="pyhdf.VS.VDAttr.get">
<code class="descname">get</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VDAttr.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VDAttr.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the attribute value.</p>
<p>Args:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">argument</span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">attribute</span> <span class="n">value</span><span class="p">(</span><span class="n">s</span><span class="p">);</span> <span class="n">a</span> <span class="nb">list</span> <span class="ow">is</span> <span class="n">returned</span> <span class="k">if</span> <span class="n">the</span> <span class="n">attribute</span>
<span class="ow">is</span> <span class="n">made</span> <span class="n">up</span> <span class="n">of</span> <span class="n">more</span> <span class="n">than</span> <span class="n">one</span> <span class="n">value</span><span class="p">,</span> <span class="k">except</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">case</span> <span class="n">of</span> <span class="n">a</span>
<span class="n">string</span><span class="o">-</span><span class="n">valued</span> <span class="n">attribute</span> <span class="p">(</span><span class="n">data</span> <span class="nb">type</span> <span class="n">HC</span><span class="o">.</span><span class="n">CHAR8</span><span class="p">)</span> <span class="n">where</span> <span class="n">the</span>
<span class="n">values</span> <span class="n">are</span> <span class="n">returned</span> <span class="k">as</span> <span class="n">a</span> <span class="n">string</span>
</pre></div>
</div>
<p>C library equivalent : VSgetattr</p>
</dd></dl>

<dl class="method">
<dt id="pyhdf.VS.VDAttr.info">
<code class="descname">info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VDAttr.info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VDAttr.info" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve info about the attribute.</p>
<p>Args:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">no</span> <span class="n">argument</span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">4</span><span class="o">-</span><span class="n">element</span> <span class="nb">tuple</span> <span class="k">with</span> <span class="n">the</span> <span class="n">following</span> <span class="n">components</span><span class="p">:</span>
  <span class="o">-</span><span class="n">attribute</span> <span class="n">name</span>
  <span class="o">-</span><span class="n">attribute</span> <span class="n">data</span> <span class="nb">type</span> <span class="p">(</span><span class="n">one</span> <span class="n">of</span> <span class="n">HC</span><span class="o">.</span><span class="n">xxx</span> <span class="n">constants</span><span class="p">)</span>
  <span class="o">-</span><span class="n">attribute</span> <span class="n">order</span> <span class="p">(</span><span class="n">number</span> <span class="n">of</span> <span class="n">values</span><span class="p">)</span>
  <span class="o">-</span><span class="n">attribute</span> <span class="n">size</span> <span class="ow">in</span> <span class="nb">bytes</span>
</pre></div>
</div>
<p>C library equivalent : VSattrinfo</p>
</dd></dl>

<dl class="method">
<dt id="pyhdf.VS.VDAttr.set">
<code class="descname">set</code><span class="sig-paren">(</span><em>data_type</em>, <em>values</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/pyhdf/VS.html#VDAttr.set"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pyhdf.VS.VDAttr.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the attribute value.</p>
<p>Args:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data_type</span>    <span class="p">:</span> <span class="n">attribute</span> <span class="n">data</span> <span class="nb">type</span> <span class="p">(</span><span class="n">see</span> <span class="n">constants</span> <span class="n">HC</span><span class="o">.</span><span class="n">xxx</span><span class="p">)</span>
<span class="n">values</span>       <span class="p">:</span> <span class="n">attribute</span> <span class="n">value</span><span class="p">(</span><span class="n">s</span><span class="p">);</span> <span class="n">specify</span> <span class="n">a</span> <span class="nb">list</span> <span class="n">to</span> <span class="n">create</span>
               <span class="n">a</span> <span class="n">multi</span><span class="o">-</span><span class="n">valued</span> <span class="n">attribute</span><span class="p">;</span> <span class="n">a</span> <span class="n">string</span> <span class="n">valued</span>
               <span class="n">attribute</span> <span class="n">can</span> <span class="n">be</span> <span class="n">created</span> <span class="n">by</span> <span class="n">setting</span> <span class="s1">&#39;data_type&#39;</span>
               <span class="n">to</span> <span class="n">HC</span><span class="o">.</span><span class="n">CHAR8</span> <span class="ow">and</span> <span class="s1">&#39;values&#39;</span> <span class="n">to</span> <span class="n">the</span> <span class="n">corresponding</span>
               <span class="n">string</span>

               <span class="n">If</span> <span class="n">the</span> <span class="n">attribute</span> <span class="n">already</span> <span class="n">exists</span><span class="p">,</span> <span class="n">it</span> <span class="n">will</span> <span class="n">be</span>
               <span class="n">updated</span><span class="o">.</span> <span class="n">However</span><span class="p">,</span> <span class="n">it</span> <span class="ow">is</span> <span class="n">illegal</span> <span class="n">to</span> <span class="k">try</span> <span class="n">to</span> <span class="n">change</span>
               <span class="n">its</span> <span class="n">data</span> <span class="nb">type</span> <span class="ow">or</span> <span class="n">its</span> <span class="n">order</span> <span class="p">(</span><span class="n">number</span> <span class="n">of</span> <span class="n">values</span><span class="p">)</span><span class="o">.</span>
</pre></div>
</div>
<p>Returns:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kc">None</span>
</pre></div>
</div>
<p>C library equivalent : VSsetattr</p>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">VS (Vdata table) API (<code class="docutils literal notranslate"><span class="pre">pyhdf.VS</span></code>)</a><ul>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#vs-module-key-features">VS module key features</a></li>
<li><a class="reference internal" href="#accessing-the-vs-module">Accessing the VS module</a></li>
<li><a class="reference internal" href="#package-components">Package components</a></li>
<li><a class="reference internal" href="#prerequisites">Prerequisites</a></li>
<li><a class="reference internal" href="#documentation">Documentation</a></li>
<li><a class="reference internal" href="#summary-of-differences-between-the-pyhdf-and-c-vs-api">Summary of differences between the pyhdf and C VS API</a></li>
<li><a class="reference internal" href="#error-handling">Error handling</a></li>
<li><a class="reference internal" href="#vs-needs-support-from-the-hdf-module">VS needs support from the HDF module</a></li>
<li><a class="reference internal" href="#classes-summary">Classes summary</a></li>
<li><a class="reference internal" href="#data-types">Data types</a></li>
<li><a class="reference internal" href="#attribute-access-low-and-high-level">Attribute access: low and high level</a></li>
<li><a class="reference internal" href="#predefined-attributes">Predefined attributes</a></li>
<li><a class="reference internal" href="#record-access-low-and-high-level">Record access: low and high level</a></li>
<li><a class="reference internal" href="#programming-models">Programming models</a><ul>
<li><a class="reference internal" href="#creating-and-initializing-a-new-vdata">Creating and initializing a new vdata</a></li>
<li><a class="reference internal" href="#appending-records-to-a-vdata">Appending records to a vdata</a></li>
<li><a class="reference internal" href="#updating-records-in-a-vdata">Updating records in a vdata</a></li>
<li><a class="reference internal" href="#reading-a-vdata">Reading a vdata</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="SD.html"
                        title="previous chapter">SD (scientific dataset) API (<code class="docutils literal notranslate"><span class="pre">pyhdf.SD</span></code>)</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="V.html"
                        title="next chapter">V (Vgroup) API (<code class="docutils literal notranslate"><span class="pre">pyhdf.V</span></code>)</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/modules/VS.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="V.html" title="V (Vgroup) API (pyhdf.V)"
             >next</a> |</li>
        <li class="right" >
          <a href="SD.html" title="SD (scientific dataset) API (pyhdf.SD)"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">pyhdf 0.10.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, pyhdf authors.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.4.
    </div>
  </body>
</html>